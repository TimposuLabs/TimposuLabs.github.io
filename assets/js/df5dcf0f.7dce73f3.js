"use strict";(self.webpackChunktimposu=self.webpackChunktimposu||[]).push([[82151],{41080:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"express/error-handling","title":"Error Handling","description":"Secara otomatis jika aplikasi Express.js mengalami Error, maka Error tersebut akan ditangkap oleh Express.js. Kemudian, rincian error akan ditampilkan dalam response secara otomatis.","source":"@site/tutorial/nodejs/express/18-error-handling.md","sourceDirName":"express","slug":"/express/error-handling","permalink":"/nodejs/express/error-handling","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":18,"frontMatter":{"sidebar_position":18,"title":"Error Handling"},"sidebar":"tutorialSidebar","previous":{"title":"Response Body","permalink":"/nodejs/express/response-body"},"next":{"title":"Static File","permalink":"/nodejs/express/static-file"}}');var s=n(74848),t=n(28453);const o={sidebar_position:18,title:"Error Handling"},i=void 0,d={},l=[];function p(e){const r={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.p,{children:"Secara otomatis jika aplikasi Express.js mengalami Error, maka Error tersebut akan ditangkap oleh Express.js. Kemudian, rincian error akan ditampilkan dalam response secara otomatis."}),"\n",(0,s.jsx)(r.p,{children:"Berikut contoh pesan jika terjadi error \u26a0\ufe0f:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Error: Intentional Error\n    at D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\src\\hello.js:11:11\n    at Layer.handleRequest (D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\node_modules\\router\\index.js:295:15\n    at processParams (D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\node_modules\\router\\index.js:582:12)\n    at next (D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\node_modules\\router\\index.js:291:5)\n    at Function.handle (D:\\Workspace\\belajar\\nodejs\\express\\belajar-express\\node_modules\\router\\index.js:186:3)\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Ada kondisi di mana kita ingin mengubah cara error ditampilkan, atau bahkan sengaja mengharapkan terjadinya error, seperti Error Validasi. Dalam situasi semacam ini, Express.js menyediakan fitur Middleware Error Handling, di mana kita bisa membuat Middleware dan itu akan dijalankan ketika kesalahan terjadi. Berbeda dengan Middleware biasa, pada Middleware Error Handling, dibutuhkan empat parameter, yaitu ",(0,s.jsx)(r.code,{children:"(err, req, res, next)"}),"."]}),"\n",(0,s.jsx)(r.p,{children:"Berikut cara membuat Middleware Error Handling \u2611\ufe0f:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",children:"// Error handling middleware\nconst errorMiddleware = (err, req, res, next) => {\n    res.status(500).send(`Something error: ${err.message}`);\n};\n\napp.get('/hello', (req, res) => {\n    throw new Error('Intentional Error'); // Contoh error untuk diuji\n});\n\napp.use(errorMiddleware); // Ditempatkan paling akhir, setelah semua route\n"})}),"\n",(0,s.jsx)(r.p,{children:"Full Code dengan Unit Test \u2705:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",children:"const request = require('supertest');\nconst express = require('express');\n\nconst app = express();\n\n// Error handling middleware\nconst errorMiddleware = (err, req, res, next) => {\n    res.status(500).send(`Something error: ${err.message}`);\n};\n\napp.get('/hello', (req, res) => {\n    throw new Error('Intentional Error'); // Contoh error untuk diuji\n});\n\napp.use(errorMiddleware); // Ditempatkan paling akhir, setelah semua route\n\ntest('Test Response Error /hello endpoint', async () => {\n    const response = await request(app).get('/hello');\n    expect(response.status).toBe(500);\n    expect(response.text).toBe('Something error: Intentional Error');\n});\n"})}),"\n",(0,s.jsx)(r.admonition,{type:"tip",children:(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://expressjs.com/en/guide/error-handling.html",children:"https://expressjs.com/en/guide/error-handling.html"})}),"\n"]})})]})}function u(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>i});var a=n(96540);const s={},t=a.createContext(s);function o(e){const r=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(t.Provider,{value:r},e.children)}}}]);