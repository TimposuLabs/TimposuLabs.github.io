"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[7432],{28453(a,e,n){n.d(e,{R:()=>s,x:()=>t});var r=n(96540);const l={},i=r.createContext(l);function s(a){const e=r.useContext(i);return r.useMemo(function(){return"function"==typeof a?a(e):{...e,...a}},[e,a])}function t(a){let e;return e=a.disableParentContext?"function"==typeof a.components?a.components(l):a.components||l:s(a.components),r.createElement(i.Provider,{value:e},a.children)}},43870(a,e,n){n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>t,default:()=>c,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"java-stream/parallel-stream","title":"Parallel Stream","description":"Salah satu fitur yang menarik di Java Stream adalah, Stream bisa dijalankan secara parallel. Parallel Programming akan dibahas pada materi Java Thread. Secara garis besar, parallel artinya beberapa proses berjalan secara bersamaan. Secara default, Parallel Stream akan dijalankan di ForkJoinPool, dimana akan di running secara default menggunakan Thread sejumlah maksimal total CPU kita.","source":"@site/tutorial/java/java-stream/18-parallel-stream.md","sourceDirName":"java-stream","slug":"/java-stream/parallel-stream","permalink":"/java/java-stream/parallel-stream","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":18,"frontMatter":{"sidebar_position":18,"title":"Parallel Stream"},"sidebar":"tutorialSidebar","previous":{"title":"Grouping & Partition","permalink":"/java/java-stream/grouping-partition"}}');var l=n(74848),i=n(28453);const s={sidebar_position:18,title:"Parallel Stream"},t=void 0,o={},d=[{value:"\ud83d\ude80 Konsep Dasar",id:"-konsep-dasar",level:2},{value:"Bagaimana Implementasinya?",id:"bagaimana-implementasinya",level:3},{value:"\ud83e\uddf0 Cara membuat Stream Parallel",id:"toolbox-cara-membuat-stream-parallel",level:2},{value:"\u2753 Kapan harus menggunakan Stream Parallel",id:"-kapan-harus-menggunakan-stream-parallel",level:2},{value:"\u26a0\ufe0f Peringatan Penting (Thread-Safety)",id:"\ufe0f-peringatan-penting-thread-safety",level:2}];function m(a){const e={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...a.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:["Salah satu fitur yang menarik di Java Stream adalah, Stream bisa dijalankan secara ",(0,l.jsx)(e.strong,{children:"parallel"}),". Parallel Programming akan dibahas pada materi Java Thread. Secara garis besar, parallel artinya beberapa proses berjalan secara bersamaan. Secara default, Parallel Stream akan dijalankan di ",(0,l.jsx)(e.code,{children:"ForkJoinPool"}),", dimana akan di running secara default menggunakan Thread sejumlah maksimal total CPU kita."]}),"\n",(0,l.jsx)(e.p,{children:"Parallel Stream adalah fitur dalam Java Stream API yang memungkinkan Anda memproses data secara paralel menggunakan beberapa thread. Ini bisa sangat meningkatkan performa untuk operasi yang intensif secara komputasi pada koleksi data yang besar."}),"\n",(0,l.jsx)(e.h2,{id:"-konsep-dasar",children:"\ud83d\ude80 Konsep Dasar"}),"\n",(0,l.jsx)(e.p,{children:"Secara default, semua operasi stream di Java berjalan secara serial (satu per satu) pada satu thread. Ketika Anda menggunakan parallel stream, Java secara otomatis membagi koleksi data menjadi beberapa sub-bagian. Masing-masing sub-bagian ini kemudian diproses secara independen dan simultan oleh thread yang berbeda."}),"\n",(0,l.jsx)(e.h3,{id:"bagaimana-implementasinya",children:"Bagaimana Implementasinya?"}),"\n",(0,l.jsx)(e.p,{children:"Java menggunakan thread pool bersama yang dikenal sebagai ForkJoinPool untuk menjalankan tugas-tugas dari parallel stream. Secara default, ForkJoinPool akan menggunakan jumlah thread yang setara dengan jumlah inti (core) pemrosesan yang tersedia di sistem Anda."}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Contoh Sequential non Parallel:"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n    .forEach(number ->{\n        System.out.println(Thread.currentThread().getName() + " : " + number);\n    });\n'})}),"\n",(0,l.jsx)(e.p,{children:"Output:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"main : 1\nmain : 2\nmain : 3\nmain : 4\nmain : 5\nmain : 6\nmain : 7\nmain : 8\nmain : 9\nmain : 10\n"})}),"\n",(0,l.jsx)(e.p,{children:"Pada contoh di atas program akan dijalankan pada Thread yang sama."}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Berikut contoh menggunakan Stream Parallel:"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n        .parallel()\n        .forEach(number ->{\n            System.out.println(Thread.currentThread().getName() + " : " + number);\n        });\n'})}),"\n",(0,l.jsx)(e.p,{children:"Output:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"ForkJoinPool.commonPool-worker-5 : 4\nForkJoinPool.commonPool-worker-1 : 3\nForkJoinPool.commonPool-worker-8 : 1\nForkJoinPool.commonPool-worker-7 : 6\nForkJoinPool.commonPool-worker-6 : 8\nmain : 7\nForkJoinPool.commonPool-worker-4 : 9\nForkJoinPool.commonPool-worker-2 : 2\nForkJoinPool.commonPool-worker-3 : 5\nForkJoinPool.commonPool-worker-9 : 10\n"})}),"\n",(0,l.jsx)(e.p,{children:"Program akan dieksekusi dengan Thread secara acak."}),"\n",(0,l.jsxs)(e.h2,{id:"toolbox-cara-membuat-stream-parallel",children:["\ud83e\uddf0"," Cara membuat Stream Parallel"]}),"\n",(0,l.jsx)(e.p,{children:"Ada dua cara utama untuk mendapatkan parallel stream:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsxs)(e.strong,{children:["Menggunakan ",(0,l.jsx)(e.code,{children:".parallelStream()"})]})}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["Ini adalah cara paling umum ketika Anda memulai dari sebuah koleksi (",(0,l.jsx)(e.code,{children:"Collection"}),"):"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\nnumbers.parallelStream() // Stream berjalan secara paralel\n       .filter(n -> n % 2 == 0)\n       .forEach(System.out::println);\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsxs)(e.strong,{children:["Menggunakan ",(0,l.jsx)(e.code,{children:".parallel()"})]})}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["Jika sudah memiliki data Stream, kita  dapat mengubahnya menjadi parallel stream dengan memanggil metode ",(0,l.jsx)(e.code,{children:".parallel()"}),":"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"Stream.of(1, 2, 3, 4, 5)\n      .parallel() // Mengubah stream serial menjadi parallel\n      .map(n -> n * 2)\n      .forEach(System.out::println);\n"})}),"\n",(0,l.jsx)(e.h2,{id:"-kapan-harus-menggunakan-stream-parallel",children:"\u2753 Kapan harus menggunakan Stream Parallel"}),"\n",(0,l.jsx)(e.p,{children:"Parallel Stream tidak selalu lebih cepat daripada stream serial. overhead yang dikeluarkan untuk membagi data, mengelola thread, dan menggabungkan hasil bisa melebihi manfaat paralelisasi."}),"\n",(0,l.jsx)(e.p,{children:"Gunakan parallel stream jika memenuhi kriteria berikut:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Data Set Besar:"})," Koleksi data yang Anda proses harus cukup besar untuk membenarkan overhead dari paralelisasi."]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Operasi yang Intensif:"})," Operasi yang Anda lakukan (seperti ",(0,l.jsx)(e.code,{children:"map"}),", ",(0,l.jsx)(e.code,{children:"filter"}),", ",(0,l.jsx)(e.code,{children:"reduce"}),") harus memakan waktu komputasi yang signifikan. Jika operasi terlalu sederhana (misalnya, hanya penambahan), stream serial mungkin lebih cepat."]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Struktur Data Efisien:"})," Struktur data sumber sebaiknya mudah untuk dibagi (seperti ",(0,l.jsx)(e.code,{children:"ArrayList"})," atau array). ",(0,l.jsx)(e.code,{children:"LinkedList"})," kurang cocok karena sulit dibagi secara efisien."]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Operasi Tidak Memiliki State:"})," Hindari operasi yang mengubah state bersama di luar stream (hindari side effects) karena dapat menyebabkan masalah ",(0,l.jsx)(e.strong,{children:"keamanan thread (thread-safety)"})," dan hasil yang tidak terduga."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\ufe0f-peringatan-penting-thread-safety",children:"\u26a0\ufe0f Peringatan Penting (Thread-Safety)"}),"\n",(0,l.jsxs)(e.p,{children:["Karena parallel stream melibatkan banyak thread yang beroperasi secara simultan, Anda harus berhati-hati terhadap ",(0,l.jsx)(e.strong,{children:"race conditions"})," jika Anda mencoba memodifikasi sumber daya eksternal (variabel, field objek, atau koleksi) dari dalam operasi stream."]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Contoh Bahaya (Jangan lakukan ini):"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"List<Integer> result = new ArrayList<>();\nList<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5);\n\nnumbers.parallelStream()\n       .map(n -> n * 2)\n       .forEach(result::add); // \u274c BERBAHAYA: result (ArrayList) tidak thread-safe!\n"})}),"\n",(0,l.jsxs)(e.p,{children:["Dalam kasus di atas, menggunakan ",(0,l.jsx)(e.code,{children:"collect()"})," adalah cara yang aman dan idiomatik untuk mengumpulkan hasil:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5);\nList<Integer> result = numbers.parallelStream()\n                               .map(n -> n * 2)\n                               .collect(Collectors.toList()); // \u2705 AMAN\n"})})]})}function c(a={}){const{wrapper:e}={...(0,i.R)(),...a.components};return e?(0,l.jsx)(e,{...a,children:(0,l.jsx)(m,{...a})}):m(a)}}}]);