"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[62691],{28453(e,t,a){a.d(t,{R:()=>i,x:()=>d});var n=a(96540);const s={},r=n.createContext(s);function i(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:t},e.children)}},75524(e,t,a){a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>c,frontMatter:()=>i,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"express/route-parameter","title":"Route Parameter","description":"Saat kita membuat aplikasi Web API atau RESTful API, kadang kita sering menyimpan parameter dalam URL Path, misal /student/, atau /categories/{idCategory}, dan lain-lain. Express.js mendukung penambahan parameter dalam route path, dengan menggunakan prefixid, artinya kita menambah parameter id. Data route parameter secara otomatis bisa kita ambil sebagai attribute di req.params.","source":"@site/tutorial/nodejs/express/11-route-parameter.md","sourceDirName":"express","slug":"/express/route-parameter","permalink":"/nodejs/express/route-parameter","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"Route Parameter"},"sidebar":"tutorialSidebar","previous":{"title":"Route Path","permalink":"/nodejs/express/route-path"},"next":{"title":"Route Function","permalink":"/nodejs/express/route-function"}}');var s=a(74848),r=a(28453);const i={sidebar_position:11,title:"Route Parameter"},d=void 0,p={},o=[];function u(e){const t={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Saat kita membuat aplikasi Web API atau RESTful API, kadang kita sering menyimpan parameter dalam URL Path, misal ",(0,s.jsx)(t.code,{children:"/student/{id}"}),", atau ",(0,s.jsx)(t.code,{children:"/categories/{idCategory}"}),", dan lain-lain. Express.js mendukung penambahan parameter dalam route path, dengan menggunakan prefix ",(0,s.jsx)(t.code,{children:":"})," (titik dua). Semua data parameter itu bisa kita tambahkan ",(0,s.jsx)(t.strong,{children:"regex"})," jika kita mau, misal ",(0,s.jsx)(t.code,{children:"/student/:id"}),", artinya kita menambah parameter ",(0,s.jsx)(t.code,{children:"id"}),". Data route parameter secara otomatis bisa kita ambil sebagai attribute di ",(0,s.jsx)(t.code,{children:"req.params"}),"."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://expressjs.com/en/5x/api.html#req.params",children:"https://expressjs.com/en/5x/api.html#req.params"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://www.npmjs.com/package/path-to-regexp",children:"https://www.npmjs.com/package/path-to-regexp"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/pillarjs/path-to-regexp",children:"https://github.com/pillarjs/path-to-regexp"})}),"\n"]})}),"\n",(0,s.jsxs)(t.p,{children:["Pada parameterya kita juga bisa langsung memasukan regex pattern, contohnya memasukan data hanya berupa angka kedalam parameter endpoint ",(0,s.jsx)(t.code,{children:"/class/"})," yaitu dengan pattern ",(0,s.jsx)(t.code,{children:"/^\\/class\\/(\\d+)$/"}),". Dengan demikian parameter yang dimasukan ke endpoint tersebut hanya berupa angka dan kemudian bisa diambil melalui ",(0,s.jsx)(t.code,{children:" req.params[0]"}),", karena mengakses parameter dari regex dari group pertama."]}),"\n",(0,s.jsx)(t.p,{children:"Contoh:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"app.get('/student/:id', (req, res) => {\r\n    const idStudent = req.params.id;\r\n    res.send(\"Student ID: \" + idStudent);\r\n});\r\n\r\n// Menggunakan regex untuk pattern /class/(number)\r\napp.get(/^\\/class\\/(\\d+)$/, (req, res) => {\r\n    const idClass = req.params[0]; // Mengakses parameter dari regex capture group, dan regex dari group pertama\r\n    res.send(\"Class ID: \" + idClass);\r\n});\r\n\r\n// Menggunakan parameter lebih dari satu\r\napp.get('/class/:id/students/:studentId', (req, res) => {\r\n    const idClass = req.params.id;\r\n    const idStudent = req.params.studentId;\r\n    res.send(`Class ID: ${idClass}, Student ID: ${idStudent}`);\r\n});\n"})}),"\n",(0,s.jsx)(t.p,{children:"Contoh Full Code dengan Unit Test:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"const request = require('supertest');\r\nconst express = require('express');\r\n\r\nconst app = express();\r\n\r\napp.get('/student/:id', (req, res) => {\r\n    const idStudent = req.params.id;\r\n    res.send(\"Student ID: \" + idStudent);\r\n});\r\n\r\n// Menggunakan regex untuk pattern /class/(number)\r\napp.get(/^\\/class\\/(\\d+)$/, (req, res) => {\r\n    const idClass = req.params[0]; // Mengakses parameter dari regex capture group, dan regex dari group pertama\r\n    res.send(\"Class ID: \" + idClass);\r\n});\r\n\r\n// Menggunakan parameter lebih dari satu\r\napp.get('/class/:id/students/:studentId', (req, res) => {\r\n    const idClass = req.params.id;\r\n    const idStudent = req.params.studentId;\r\n    res.send(`Class ID: ${idClass}, Student ID: ${idStudent}`);\r\n});\r\n\r\n// Unit test\r\ntest('Test Response Route Path /student/:id endpoint', async () => {\r\n    const response = await request(app).get('/student/111');\r\n    expect(response.status).toBe(200);\r\n    expect(response.text).toBe('Student ID: 111');\r\n});\r\n\r\ntest('Test Response Route Path /student/:id endpoint', async () => {\r\n    const response = await request(app).get('/student/222');\r\n    expect(response.status).toBe(200);\r\n    expect(response.text).toBe('Student ID: 222');\r\n});\r\n\r\ntest('Test Response Route Path /class/:id endpoint', async () => {\r\n    const response = await request(app).get('/class/12');\r\n    expect(response.status).toBe(200);\r\n    expect(response.text).toBe('Class ID: 12');\r\n});\r\n\r\ntest('Test Response Route Path /class/:id endpoint', async () => {\r\n    const response = await request(app).get('/class/tigabelas');\r\n    expect(response.status).toBe(404);\r\n});\r\n\r\ntest('Test Response Route Path /class/:id/students/:studentId endpoint', async () => {\r\n    const response = await request(app).get('/class/12/students/34');\r\n    expect(response.status).toBe(200);\r\n    expect(response.text).toBe('Class ID: 12, Student ID: 34');\r\n});\n"})})]})}function c(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);