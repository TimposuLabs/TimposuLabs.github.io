"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[4480],{28453(e,n,a){a.d(n,{R:()=>r,x:()=>l});var s=a(96540);const i={},t=s.createContext(i);function r(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(t.Provider,{value:n},e.children)}},30667(e,n,a){a.d(n,{A:()=>s});const s=a.p+"assets/images/spring-security10-7326578eec2a4cc45d91ee837c93aca2.png"},40162(e,n,a){a.d(n,{A:()=>s});const s=a.p+"assets/images/spring-security11-8ea4947fefb6b3b64be2a751fff80946.png"},41411(e,n,a){a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"springboot/springboot-mvc-security/display-user-roles","title":"Display User ID & Roles","description":"Materi ini akan membahas cara menampilkan informasi pengguna/user yang sedang masuk (logged-in user), seperti Username dan Roles, langsung pada halaman web menggunakan Thymeleaf Extras Spring Security.","source":"@site/tutorial/spring/springboot/springboot-mvc-security/05-display-user-roles.md","sourceDirName":"springboot/springboot-mvc-security","slug":"/springboot/springboot-mvc-security/display-user-roles","permalink":"/spring/springboot/springboot-mvc-security/display-user-roles","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Display User ID & Roles"},"sidebar":"tutorialSidebar","previous":{"title":"Logout","permalink":"/spring/springboot/springboot-mvc-security/logout"},"next":{"title":"Akses URL Berdasarkan Role","permalink":"/spring/springboot/springboot-mvc-security/access-url-by-role"}}');var i=a(74848),t=a(28453);const r={sidebar_position:5,title:"Display User ID & Roles"},l=void 0,o={},c=[{value:"1\ufe0f\u20e3 Persiapan Dependensi",id:"1\ufe0f\u20e3-persiapan-dependensi",level:2},{value:"2\ufe0f\u20e3 Menghubungkan Namespace di HTML",id:"2\ufe0f\u20e3-menghubungkan-namespace-di-html",level:2},{value:"3\ufe0f\u20e3 Cara Menampilkan User ID (Username) dan Roles (Otoritas)",id:"3\ufe0f\u20e3-cara-menampilkan-user-id-username-dan-roles-otoritas",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Materi ini akan membahas cara menampilkan informasi pengguna/user yang sedang masuk (",(0,i.jsx)(n.em,{children:"logged-in user"}),"), seperti ",(0,i.jsx)(n.strong,{children:"Username"})," dan ",(0,i.jsx)(n.strong,{children:"Roles"}),", langsung pada halaman web menggunakan T",(0,i.jsx)(n.strong,{children:"hymeleaf Extras Spring Security"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Kita perlu melakukan integrasi antara Spring Security dan Thymeleaf."}),"\n",(0,i.jsx)(n.h2,{id:"1\ufe0f\u20e3-persiapan-dependensi",children:"1\ufe0f\u20e3 Persiapan Dependensi"}),"\n",(0,i.jsxs)(n.p,{children:["Untuk mengakses data security di dalam HTML, kita memerlukan library tambahan. Pastikan dependensi berikut ada di file ",(0,i.jsx)(n.code,{children:"pom.xml"})," anda:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<dependency>\r\n    <groupId>org.thymeleaf.extras</groupId>\r\n    <artifactId>thymeleaf-extras-springsecurity6</artifactId>\r\n</dependency>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"2\ufe0f\u20e3-menghubungkan-namespace-di-html",children:"2\ufe0f\u20e3 Menghubungkan Namespace di HTML"}),"\n",(0,i.jsxs)(n.p,{children:["Agar tag khusus keamanan dapat digunakan, kita harus menambahkan ",(0,i.jsx)(n.em,{children:"namespace"})," ",(0,i.jsx)(n.code,{children:"sec"})," pada tag ",(0,i.jsx)(n.code,{children:"<html>"})," di file View Anda (misalnya ",(0,i.jsx)(n.code,{children:"home.html"}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html xmlns:th="http://www.thymeleaf.org"\r\n      xmlns:sec="www.thymeleaf.org">\n'})}),"\n",(0,i.jsx)(n.h2,{id:"3\ufe0f\u20e3-cara-menampilkan-user-id-username-dan-roles-otoritas",children:"3\ufe0f\u20e3 Cara Menampilkan User ID (Username) dan Roles (Otoritas)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Untuk menampilkan nama pengguna yang sedang aktif, gunakan atribut ",(0,i.jsx)(n.code,{children:'sec:authentication="name"'}),". Spring Security secara otomatis mengambil informasi ini dari objek ",(0,i.jsx)(n.code,{children:"UserDetails"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'Logged in as: <span sec:authentication="principal.username"></span>\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:'Jika Anda login sebagai "ucup", maka teks akan menjadi "ucup".'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Menampilkan Role sedikit berbeda karena satu pengguna bisa memiliki banyak Role. Kita bisa menggunakan objek ",(0,i.jsx)(n.code,{children:"principal.authorities"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'Roles: <span sec:authentication="principal.authorities"></span>\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["Hasilnya akan muncul seperti: ",(0,i.jsx)(n.code,{children:"[ROLE_GUEST, ROLE_USERS, ROLE_ADMIN]"}),"."]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Contoh kode lengkapnya pada ",(0,i.jsx)(n.code,{children:"home.html"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html xmlns:th="http://www.thymeleaf.org"\r\n\t  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">\r\n<head>\r\n\t\t<title>Belajar Spring CRUD Security</title>\r\n\t\t<meta charset="utf-8">\r\n\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\r\n\t</head>\r\n\t<body>\r\n\t\t<h2>TimposuLabs Company</h2>\r\n\t\t<hr />\r\n\t\tWelcome to our company homepage.\r\n\t\t<hr />\r\n\t\t\t<p>\r\n\t\t\t\tLogged in as: <span sec:authentication="principal.username"></span>\r\n\t\t\t\t<br>\r\n\t\t\t\tRoles: <span sec:authentication="principal.authorities"></span>\r\n\t\t\t</p>\r\n\t\t<hr />\r\n\t\t<form th:action="@{/logout}" method="post">\r\n\t\t\t<button type="submit">Logout</button>\t\r\n\t\t</form>\r\n\t</body>\r\n</html>\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Contoh login dengan user yang memiliki role ",(0,i.jsx)(n.strong,{children:"GUEST, USERS, ADMIN"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Spring Security",src:a(30667).A+"",width:"816",height:"664"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Contoh login dengan user yang hanya memiliki role ",(0,i.jsx)(n.strong,{children:"GUEST"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Spring Security",src:a(40162).A+"",width:"816",height:"664"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Source Code"}),": ",(0,i.jsx)(n.a,{href:"https://github.com/TimposuLabs/belajar-springboot-mvc-security/tree/main/06-belajar-springboot-security-display-user-roles",children:"https://github.com/TimposuLabs/belajar-springboot-mvc-security/tree/main/06-belajar-springboot-security-display-user-roles"})]})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);