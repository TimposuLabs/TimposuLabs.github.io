"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[71038],{28453(e,n,a){a.d(n,{R:()=>d,x:()=>i});var s=a(96540);const r={},t=s.createContext(r);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(t.Provider,{value:n},e.children)}},96097(e,n,a){a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>l,frontMatter:()=>d,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"express/request-body","title":"Request Body","description":"Dalam Express.js, secara default Router Callback tidak dapat mengakses data dari HTTP Request Body, karena jenis data dalam Request Body dapat bervariasi tergantung pada tipe data yang dikirim. Oleh karena itu, di dalam Express.js terdapat Middleware bawaan / Built-in Middleware yang berfungsi untuk membaca Request Body dan kemudian mengkonversinya ke tipe data yang diperlukan.","source":"@site/tutorial/nodejs/express/14-request-body.md","sourceDirName":"express","slug":"/express/request-body","permalink":"/nodejs/express/request-body","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":14,"frontMatter":{"sidebar_position":14,"title":"Request Body"},"sidebar":"tutorialSidebar","previous":{"title":"Router","permalink":"/nodejs/express/router"},"next":{"title":"Cookie","permalink":"/nodejs/express/cookie"}}');var r=a(74848),t=a(28453);const d={sidebar_position:14,title:"Request Body"},i=void 0,o={},u=[];function p(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Dalam Express.js, secara default Router Callback tidak dapat mengakses data dari HTTP Request Body, karena jenis data dalam Request Body dapat bervariasi tergantung pada tipe data yang dikirim. Oleh karena itu, di dalam Express.js terdapat Middleware bawaan / Built-in Middleware yang berfungsi untuk membaca Request Body dan kemudian mengkonversinya ke tipe data yang diperlukan."}),"\n",(0,r.jsx)(n.p,{children:"Beberapa Built-in Middleware yang bisa digunakan:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Function"}),(0,r.jsx)(n.th,{children:"Keterangan"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"express.json()"})}),(0,r.jsx)(n.td,{children:"yaitu middleware yang melakukan parsing request body menjadi JavaScript object"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"express.text()"})}),(0,r.jsx)(n.td,{children:"yaitu middleware yang melakukan parsing request body menjadi string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"express.raw()"})}),(0,r.jsx)(n.td,{children:"yaitu middleware yang melakukan parsing request body menjadi Buffer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"express.urlencoded()"})}),(0,r.jsx)(n.td,{children:"yaitu middleware yang melakukan parsing request body form menjadi object"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"express.static()"})}),(0,r.jsx)(n.td,{children:"yaitu middleware yang digunakan untuk melayani file static"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Baca juga ",(0,r.jsx)(n.a,{href:"/nodejs/express/middleware",children:"Middleware"}),"."]}),"\n"]})}),"\n",(0,r.jsx)(n.p,{children:"Contoh:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const app = express();\r\napp.use(express.json()); // menambahkan middleware untuk parsing JSON\r\napp.use(express.urlencoded({ extended: false })); // menambahkan middleware untuk parsing form data dengan extended: false, yang berarti hanya mendukung tipe data sederhana\r\n\r\napp.post('/student/json', (req, res) => {\r\n    const name = req.body.name;\r\n    res.json({ \r\n        message: `Student ${name} created` \r\n    });\r\n});\r\n\r\napp.post('/student/form', (req, res) => {\r\n    const name = req.body.name;\r\n    res.json({ \r\n        message: `Student ${name} created` \r\n    });\r\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"Contoh Full Code dengan Unit Test:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const request = require('supertest');\r\nconst express = require('express');\r\n\r\nconst app = express();\r\napp.use(express.json()); // menambahkan middleware untuk parsing JSON\r\napp.use(express.urlencoded({ extended: false })); // menambahkan middleware untuk parsing form data dengan extended: false, yang berarti hanya mendukung tipe data sederhana\r\n\r\n\r\napp.post('/student/json', (req, res) => {\r\n    const name = req.body.name;\r\n    res.json({ \r\n        message: `Student ${name} created` \r\n    });\r\n});\r\n\r\napp.post('/student/form', (req, res) => {\r\n    const name = req.body.name;\r\n    res.json({ \r\n        message: `Student ${name} created` \r\n    });\r\n});\r\n\r\n// Unit Test\r\ntest('Test Request POST /student/json endpoint', async () => {\r\n    const response = await request(app)\r\n        .post('/student/json')\r\n        .set('Content-Type', 'application/json')\r\n        .send({ name: 'Ucup' });\r\n\r\n    expect(response.status).toBe(200);\r\n    expect(response.body.message).toBe('Student Ucup created');\r\n});\r\n\r\ntest('Test Request POST /student/form endpoint', async () => {\r\n    const response = await request(app)\r\n        .post('/student/form')\r\n        .set('Content-Type', 'application/x-www-form-urlencoded')\r\n        .send('name=Ade');\r\n\r\n    expect(response.status).toBe(200);\r\n    expect(response.body).toEqual({ message: 'Student Ade created' });\r\n});\n"})})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}}}]);