"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[8349],{28453(e,t,s){s.d(t,{R:()=>r,x:()=>o});var n=s(96540);const a={},i=n.createContext(a);function r(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(i.Provider,{value:t},e.children)}},84097(e,t,s){s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"express/static-file","title":"Static File","description":"Untuk menampilkan file statis seperti html, css, javascript, gambar, atau jenis file lain di Express.js, kita bisa menggunakan middleware express.static() yang sudah disediakan oleh Express.js. Middleware ini akan secara otomatis mencari file, dan jika file tersebut ditemukan, maka file itu akan dikembalikan, tetapi jika tidak ditemukan, proses akan diteruskan ke middleware atau route berikutnya.","source":"@site/tutorial/nodejs/express/19-static-file.md","sourceDirName":"express","slug":"/express/static-file","permalink":"/nodejs/express/static-file","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":19,"frontMatter":{"sidebar_position":19,"title":"Static File"},"sidebar":"tutorialSidebar","previous":{"title":"Error Handling","permalink":"/nodejs/express/error-handling"},"next":{"title":"Template Engine","permalink":"/nodejs/express/template-engine"}}');var a=s(74848),i=s(28453);const r={sidebar_position:19,title:"Static File"},o=void 0,l={},c=[{value:"\ud83d\udcd1 Static File",id:"-static-file",level:2},{value:"\ud83d\udcd1  Prefix Path",id:"bookmark_tabs--prefix-path",level:2},{value:"\ud83d\udd25 Full Code dengan Unit Test",id:"-full-code-dengan-unit-test",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["Untuk menampilkan file statis seperti html, css, javascript, gambar, atau jenis file lain di Express.js, kita bisa menggunakan middleware ",(0,a.jsx)(t.code,{children:"express.static()"})," yang sudah disediakan oleh Express.js. Middleware ini akan secara otomatis mencari file, dan jika file tersebut ditemukan, maka file itu akan dikembalikan, tetapi jika tidak ditemukan, proses akan diteruskan ke middleware atau route berikutnya."]}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://expressjs.com/en/5x/api.html#express.static",children:"https://expressjs.com/en/5x/api.html#express.static"})}),"\n"]})}),"\n",(0,a.jsx)(t.h2,{id:"-static-file",children:"\ud83d\udcd1 Static File"}),"\n",(0,a.jsxs)(t.p,{children:["Misal kita membuat file di dalam direktori ",(0,a.jsx)(t.code,{children:"static"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"mkdir static\ntouch static/hello.txt\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Isi file ",(0,a.jsx)(t.code,{children:"hello.txt"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"Hallo Bro!!!\n"})}),"\n",(0,a.jsx)(t.p,{children:"Contoh kode dengan Unit Test:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"const request = require('supertest');\nconst express = require('express');\nconst app = express();\n\napp.use(express.static(__dirname + '/static')); // Menggunakan folder 'static' untuk file statis\n\n// Unit Tests\ntest('Test Static File /hello.txt endpoint', async () => {\n    const response = await request(app).get('/hello.txt'); // load file statis 'hello.txt', yang berada dalam folder 'static'\n    expect(response.status).toBe(200);\n    expect(response.text).toBe('Hallo Bro!!!');\n});\n"})}),"\n",(0,a.jsxs)(t.h2,{id:"bookmark_tabs--prefix-path",children:["\ud83d\udcd1","  Prefix Path"]}),"\n",(0,a.jsxs)(t.p,{children:["Kita dapat memberi prefix path pada static file, misal ",(0,a.jsx)(t.code,{children:"/resources/namafile"}),". Maka kita bisa tambahkan route pada middleware nya, misal ",(0,a.jsx)(t.code,{children:"app.use('/resources', express.static(...)"})]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"touch static/demo.txt\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Isi file ",(0,a.jsx)(t.code,{children:"demo.txt"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"Siap ketua!!!\n"})}),"\n",(0,a.jsx)(t.p,{children:"Contoh Kode dengan Unit Test:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"const request = require('supertest');\nconst express = require('express');\n\nconst app = express();\n\napp.use('/resources', express.static(__dirname + '/static')); // Menggunakan folder 'static' untuk file statis dengan prefix '/resources'\n\n// Unit Tests\ntest('Test Static File /resources/demo.txt endpoint', async () => {\nconst response = await request(app).get('/resources/demo.txt'); // file harus diload dengan prefix '/resources'\n    expect(response.status).toBe(200);\n    expect(response.text).toBe('Siap ketua!!!');\n});\n"})}),"\n",(0,a.jsx)(t.h2,{id:"-full-code-dengan-unit-test",children:"\ud83d\udd25 Full Code dengan Unit Test"}),"\n",(0,a.jsx)(t.p,{children:"Berikut contoh full code dengan response, static dan prefix path:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"const request = require('supertest');\nconst express = require('express');\n\nconst app = express();\n\napp.use(express.static(__dirname + '/static')); // Menggunakan folder 'static' untuk file statis\napp.use('/resources', express.static(__dirname + '/static')); // Menggunakan folder 'static' untuk file statis dengan prefix '/resources'\n\napp.get('/hello', (req, res) => {\n    res.send('Hello World!');\n});\n\napp.get('/hello.txt', (req, res) => {\n    res.send('Hello World!');\n});\n\n// Unit Tests\ntest('Test Response /hello endpoint', async () => {\n    const response = await request(app).get('/hello');\n    expect(response.status).toBe(200);\n    expect(response.text).toBe('Hello World!');\n});\n\ntest('Test Static File /hello.txt endpoint', async () => {\n    const response = await request(app).get('/hello.txt');\n    expect(response.status).toBe(200);\n    expect(response.text).toBe('Hallo Bro!!!');\n});\n\ntest('Test Static File /resources/hello.txt endpoint', async () => {\n    const response = await request(app).get('/resources/hello.txt'); // menggunakan prefix '/resources'\n    expect(response.status).toBe(200);\n    expect(response.text).toBe('Hallo Bro!!!');\n});\n\ntest('Test Static File /resources/demo.txt endpoint', async () => {\nconst response = await request(app).get('/resources/demo.txt'); // menggunakan prefix '/resources'\n    expect(response.status).toBe(200);\n    expect(response.text).toBe('Siap ketua!!!');\n});\n"})})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}}}]);