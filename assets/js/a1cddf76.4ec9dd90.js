"use strict";(self.webpackChunktimposu=self.webpackChunktimposu||[]).push([[2141],{50086:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"springboot/springboot-mvc/validation-regex","title":"Validation Regex","description":"Spring Boot mendukung Validation Regex (Regular Expression) yaitu memvalidasi data menggunakan pola karakter khusus untuk memastikan input pengguna sesuai dengan format yang sangat spesifik.","source":"@site/tutorial/spring/springboot/springboot-mvc/15-validation-regex.md","sourceDirName":"springboot/springboot-mvc","slug":"/springboot/springboot-mvc/validation-regex","permalink":"/spring/springboot/springboot-mvc/validation-regex","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":17,"frontMatter":{"sidebar_position":17,"title":"Validation Regex"},"sidebar":"tutorialSidebar","previous":{"title":"Validation Number Range","permalink":"/spring/springboot/springboot-mvc/validation-number-range"},"next":{"title":"Validation Integer Required","permalink":"/spring/springboot/springboot-mvc/validation-integer-required"}}');var r=e(74848),a=e(28453);const s={sidebar_position:17,title:"Validation Regex"},o=void 0,l={},d=[{value:"1\ufe0f\u20e3 Membuat Class Object",id:"1\ufe0f\u20e3-membuat-class-object",level:3},{value:"2\ufe0f\u20e3 Membuat Controller",id:"2\ufe0f\u20e3-membuat-controller",level:3},{value:"Penjelasan:",id:"penjelasan",level:4},{value:"3\ufe0f\u20e3 Membuat View",id:"3\ufe0f\u20e3-membuat-view",level:3}];function p(t){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Spring Boot mendukung Validation Regex (Regular Expression) yaitu memvalidasi data menggunakan pola karakter khusus untuk memastikan input pengguna sesuai dengan format yang sangat spesifik.\nDalam Spring Boot/Java, validasi ini dilakukan dengan anotasi ",(0,r.jsx)(n.code,{children:"@Pattern"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Contoh:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Pattern(regexp = "^[a-zA-Z0-9]{5}", message = "Only 5 chars/digit")\nprivate String postalCode;\n'})}),"\n",(0,r.jsx)(n.h3,{id:"1\ufe0f\u20e3-membuat-class-object",children:"1\ufe0f\u20e3 Membuat Class Object"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Membuat Class Model POJO ",(0,r.jsx)(n.code,{children:"Person.java"}),", dan menambahkan anotation validation pada field-nya:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import jakarta.validation.constraints.Max;\nimport jakarta.validation.constraints.Min;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport jakarta.validation.constraints.Pattern;\nimport jakarta.validation.constraints.Size;\n\npublic class Person {\n\t\n\t@NotBlank(message = "Is Required")\n\tprivate String firstName;\n\t\n\t@NotNull(message = "Is Required")\n\t@Size(min = 1, message = "Min 1 char")\n\tprivate String lastName;\n\t\n\t@Min(value = 1, message = "must greater than or equal to 1")\n\t@Max(value = 60, message = "must less than or equal to 60")\n\tprivate int age;\n\t\n\t@Pattern(regexp = "^[a-zA-Z0-9]{5}", message = "Only 5 chars/digit")\n\tprivate String postalCode;\n\n\tpublic String getFirstName() {\n\t\treturn firstName;\n\t}\n\n\tpublic void setFirstName(String firstName) {\n\t\tthis.firstName = firstName;\n\t}\n\n\tpublic String getLastName() {\n\t\treturn lastName;\n\t}\n\n\tpublic void setLastName(String lastName) {\n\t\tthis.lastName = lastName;\n\t}\n\n\tpublic int getAge() {\n\t\treturn age;\n\t}\n\n\tpublic void setAge(int age) {\n\t\tthis.age = age;\n\t}\n\n\tpublic String getPostalCode() {\n\t\treturn postalCode;\n\t}\n\n\tpublic void setPostalCode(String postalCode) {\n\t\tthis.postalCode = postalCode;\n\t}\n}\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Class model di atas akan di mapping dan properties-nya akan di-binding ke dalam element HTML."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2\ufe0f\u20e3-membuat-controller",children:"2\ufe0f\u20e3 Membuat Controller"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Membuat Controller ",(0,r.jsx)(n.code,{children:"PersonController.java"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.beans.PropertyEditorSupport;\n\nimport org.springframework.beans.propertyeditors.StringTrimmerEditor;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.WebDataBinder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.InitBinder;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport com.timposulabs.model.Person;\n\nimport jakarta.validation.Valid;\n\n@Controller\npublic class PersonController {\n\t\n\t// menambahkan initbinder, method ini akan selalu dieksekusi sebelum controller dipanggil\n\t// method ini akan convert trim input string dan menghapus setiap spasi / string kosong \n\t@InitBinder\n\tpublic void initBinder(WebDataBinder dataBinder) {\n\t\tStringTrimmerEditor trimmerEditor = new StringTrimmerEditor(true);\n\t\tdataBinder.registerCustomEditor(String.class, trimmerEditor);\n\t}\n\t\n\t// initbinder mengubah string menjadi uppercase\n\t@InitBinder\n\tpublic void initBinderUpper(WebDataBinder dataBinder) {\n\t\tdataBinder.registerCustomEditor(String.class, new PropertyEditorSupport() {\n\t\t\t@Override\n\t\t\tpublic void setAsText(String text) throws IllegalArgumentException {\n\t\t\t\tsetValue(text != null ? text.toUpperCase() : null);\n\t\t\t}\n\t\t});\n\t}\n\n\t@GetMapping("/")\n\tpublic String showForm(Model model) {\n\t\tmodel.addAttribute("person", new Person());\n\t\treturn "person-form";\n\t}\n\t\n\t@PostMapping("/process")\n\tpublic String processForm(\n\t\t\t@Valid @ModelAttribute("person") Person person,\n\t\t\tBindingResult bindingResult) {\n\t\t\n\t\tSystem.out.println("Lastname: " + person.getLastName());\n\t\t\n\t\tif (bindingResult.hasErrors()) {\n\t\t\treturn "person-form";\n\t\t} else {\n\t\t\treturn "person-confirm";\n\t\t}\n\t}\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"penjelasan",children:"Penjelasan:"}),"\n",(0,r.jsxs)(n.p,{children:["Method ",(0,r.jsx)(n.code,{children:"@InitBinder"})," adalah mekanisme ",(0,r.jsx)(n.strong,{children:"pre-processing"})," yang memanipulasi data String dari form sebelum data tersebut masuk ke dalam objek ",(0,r.jsx)(n.code,{children:"Person"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. InitBinder Pertama: Trimming (Pembersihan Spasi)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@InitBinder\npublic void initBinder(WebDataBinder dataBinder) {\n    StringTrimmerEditor trimmerEditor = new StringTrimmerEditor(true);\n    dataBinder.registerCustomEditor(String.class, trimmerEditor);\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fungsi"}),": Menghapus spasi di awal dan di akhir input teks secara otomatis."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"StringTrimmerEditor(true)"})}),": Parameter true berarti jika pengguna hanya menginput spasi (misal: ",(0,r.jsx)(n.code,{children:'" "'}),"), maka Spring akan mengubahnya menjadi ",(0,r.jsx)(n.code,{children:"null"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kegunaan"}),": Sangat penting jika Anda menggunakan validasi ",(0,r.jsx)(n.code,{children:"@NotNull"})," atau ",(0,r.jsx)(n.code,{children:"@NotBlank"}),", agar input yang hanya berisi spasi tetap dianggap kosong dan memicu pesan error."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. InitBinder Kedua: Uppercase (Konversi Huruf Kapital)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@InitBinder\npublic void initBinderUpper(WebDataBinder dataBinder) {\n    dataBinder.registerCustomEditor(String.class, new PropertyEditorSupport() {\n        @Override\n        public void setAsText(String text) throws IllegalArgumentException {\n            setValue(text != null ? text.toUpperCase() : null);\n        }\n    });\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fungsi"}),": Mengubah semua input teks yang masuk menjadi HURUF KAPITAL."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"PropertyEditorSupport"})}),": Digunakan untuk membuat aturan konversi kustom."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"setAsText"})}),": Method ini mencegat teks yang diketik user, lalu ",(0,r.jsx)(n.code,{children:"text.toUpperCase()"})," mengubahnya menjadi kapital sebelum disimpan ke dalam variabel objek Java melalui ",(0,r.jsx)(n.code,{children:"setValue()"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3\ufe0f\u20e3-membuat-view",children:"3\ufe0f\u20e3 Membuat View"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["View form ",(0,r.jsx)(n.code,{children:"person-form.html"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html xmlns:th="http://www.thymeleaf.org">\n\t<head>\n\t\t<title>Belajar Spring MVC</title>\n\t\t<style>\n\t\t\t.error {color: red;}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<h3>Person Data</h3>\n\t\t<form th:action="@{/process}" th:object="${person}" method="post">\n\t\t\tFirst Name (*): <input type="text" th:field="*{firstName}" />\n\t\t\t\n\t\t\t<span th:if="${#fields.hasErrors(\'firstName\')}" \n\t\t\t\t  th:errors="*{firstName}"\n\t\t\t\t  class="error"></span>\n\t\t\t<br />\n\t\t\t<br />\n\t\t\tLast Name (*): <input type="text" th:field="*{lastName}" />\n\t\t\t\n\t\t\t<span th:if="${#fields.hasErrors(\'lastName\')}" \n\t\t\t\t  th:errors="*{lastName}"\n\t\t\t\t  class="error"></span>\n\t\t\t<br />\n\t\t\t<br />\n\t\t\tAge : <input type="text" th:field="*{age}" />\n\t\t\t<span th:if="${#fields.hasErrors(\'age\')}" \n\t\t\t\t  th:errors="*{age}"\n\t\t\t\t  class="error"></span>\n\t\t\t<br />\n\t\t\t<br />\n\t\t\tPostal Code: <input type="text" th:field="*{postalCode}" />\n\t\t\t<span th:if="${#fields.hasErrors(\'postalCode\')}" \n\t\t\t\t  th:errors="*{postalCode}"\n\t\t\t\t  class="error"></span>\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<input type="submit" value="Submit" />\n\t\t</form>\n\t</body>\n</html>\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["View ",(0,r.jsx)(n.code,{children:"person-confirm.html"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html xmlns:th="http://www.thymeleaf.org">\n\t<head>\n\t\t<title>Belajar Spring MVC</title>\n\t</head>\n\t<body>\n\t\t<h3>Person Confirmation</h3>\n\t\tThe person is: <span th:text="${person.firstName} + \' \' + ${person.lastName}"></span>\n\t\t<br />\n\t\t<br />\n\t\tYour age : <span th:text="${person.age}"></span>\n\t\t<br />\n\t\t<br />\n\t\tPostal Code : <span th:text="${person.postalCode}"></span>\t\t\n\t</body>\n</html>\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Spring Boot MVC",src:e(32315).A+"",width:"903",height:"578"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Spring Boot MVC",src:e(17490).A+"",width:"903",height:"578"})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Source Code: ",(0,r.jsx)(n.a,{href:"https://github.com/TimposuLabs/belajar-springboot-mvc/tree/main/14-belajar-spring-mvc-regex",children:"https://github.com/TimposuLabs/belajar-springboot-mvc/tree/main/14-belajar-spring-mvc-regex"})]})})]})}function m(t={}){const{wrapper:n}={...(0,a.R)(),...t.components};return n?(0,r.jsx)(n,{...t,children:(0,r.jsx)(p,{...t})}):p(t)}},32315:(t,n,e)=>{e.d(n,{A:()=>i});const i=e.p+"assets/images/springboot-mvc22-159cc5f5035a40830074d1a27b299324.png"},17490:(t,n,e)=>{e.d(n,{A:()=>i});const i=e.p+"assets/images/springboot-mvc23-3cf1be47a8357f341deaa189be9df062.png"},28453:(t,n,e)=>{e.d(n,{R:()=>s,x:()=>o});var i=e(96540);const r={},a=i.createContext(r);function s(t){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function o(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:s(t.components),i.createElement(a.Provider,{value:n},t.children)}}}]);