"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[96714],{26935(e,n,t){t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>p});const a=JSON.parse('{"id":"express/router","title":"Router","description":"Ketika kita membangun Application Express.js, secara otomatis sudah tersedia objek Router. Namun, kita memiliki opsi untuk mengembangkan objek Router kita sendiri jika diinginkan, ini sangat berguna jika kita ingin mengelompokkan Router. Sebagai contoh, kita dapat memasukkan Router tersebut ke dalam Application layaknya Middleware. Pendekatan ini sangat tepat ketika kita ingin merancang fitur modular yang memungkinkan kita untuk menghidupkan atau mematikan router secara dinamis. Dengan menggunakan objek Router, kita dapat menjalankan Middleware dan Routing secara terpisah.","source":"@site/tutorial/nodejs/express/13-router.md","sourceDirName":"express","slug":"/express/router","permalink":"/nodejs/express/router","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13,"title":"Router"},"sidebar":"tutorialSidebar","previous":{"title":"Route Function","permalink":"/nodejs/express/route-function"},"next":{"title":"Request Body","permalink":"/nodejs/express/request-body"}}');var r=t(74848),s=t(28453);const i={sidebar_position:13,title:"Router"},o=void 0,u={},p=[{value:"\ud83d\ude80 Membuat Router",id:"rocket-membuat-router",level:3}];function m(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Ketika kita membangun Application Express.js, secara otomatis sudah tersedia objek Router. Namun, kita memiliki opsi untuk mengembangkan objek Router kita sendiri jika diinginkan, ini sangat berguna jika kita ingin mengelompokkan Router. Sebagai contoh, kita dapat memasukkan Router tersebut ke dalam Application layaknya Middleware. Pendekatan ini sangat tepat ketika kita ingin merancang fitur modular yang memungkinkan kita untuk menghidupkan atau mematikan router secara dinamis. Dengan menggunakan objek Router, kita dapat menjalankan Middleware dan Routing secara terpisah."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://expressjs.com/en/5x/api.html#express.router",children:"https://expressjs.com/en/5x/api.html#express.router"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://expressjs.com/en/5x/api.html#app.router",children:"https://expressjs.com/en/5x/api.html#app.router"})}),"\n"]})}),"\n",(0,r.jsxs)(n.h3,{id:"rocket-membuat-router",children:["\ud83d\ude80"," Membuat Router"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const express = require('express');\nconst app = express();\n\n// Membuat Router\nconst router = express.Router();\n\nrouter.use((req, res, next) => {\n    console.info(`Request Method: ${req.method}, Request URL: ${req.originalUrl}`);\n    next();\n});\n\nrouter.get('/course/matematika', (req, res) => {\n    res.send('Get Matematika Course');\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"Router belum bisa langsung digunakan, sebelum ditambahkan ke dalam Application Express.js:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"app.use(router);\n"})}),"\n",(0,r.jsx)(n.p,{children:"Full Code dengan Unit Test:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const request = require('supertest');\nconst express = require('express');\n\nconst app = express();\n\n// Membuat Router\nconst router = express.Router();\n\nrouter.use((req, res, next) => {\n    console.info(`Request Method: ${req.method}, Request URL: ${req.originalUrl}`);\n    next();\n});\n\nrouter.get('/course/matematika', (req, res) => {\n    res.send('Get Matematika Course');\n});\n\n// Unit Test\ntest('Test Route Disable /course/matematika endpoint', async () => {\n    const response = await request(app).get('/course/matematika');\n    expect(response.status).toBe(404); // karena route belum di daftarkan ke app\n});\n\ntest('Test Route Enable /course/matematika endpoint', async () => {\n    app.use(router); // mendaftarkan router ke app\n    \n    const response = await request(app).get('/course/matematika');\n    expect(response.status).toBe(200);\n    expect(response.text).toBe('Get Matematika Course');\n});\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Baca juga tentang ",(0,r.jsx)(n.a,{href:"/nodejs/express/middleware",children:"Middleware Tingkat Router"}),"."]})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},28453(e,n,t){t.d(n,{R:()=>i,x:()=>o});var a=t(96540);const r={},s=a.createContext(r);function i(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);