"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[56259],{28453(a,e,n){n.d(e,{R:()=>r,x:()=>d});var i=n(96540);const s={},l=i.createContext(s);function r(a){const e=i.useContext(l);return i.useMemo(function(){return"function"==typeof a?a(e):{...e,...a}},[e,a])}function d(a){let e;return e=a.disableParentContext?"function"==typeof a.components?a.components(s):a.components||s:r(a.components),i.createElement(l.Provider,{value:e},a.children)}},52184(a,e,n){n.d(e,{A:()=>i});const i="data:image/png;base64,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"},70191(a,e,n){n.d(e,{A:()=>i});const i=n.p+"assets/images/docker8-9bd796fb84d4c57b8df3f4daa93853ee.png"},83052(a,e,n){n.r(e),n.d(e,{assets:()=>t,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"docker-volume","title":"Docker Volume","description":"\ud83e\udd14 Apa itu Docker Volume?","source":"@site/tutorial/docker/12-docker-volume.md","sourceDirName":".","slug":"/docker-volume","permalink":"/docker/docker-volume","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13,"title":"Docker Volume"},"sidebar":"tutorialSidebar","previous":{"title":"Load Balancing","permalink":"/docker/load-balancing"},"next":{"title":"Docker Compose","permalink":"/docker/docker-compose"}}');var s=n(74848),l=n(28453);const r={sidebar_position:13,title:"Docker Volume"},d=void 0,t={},o=[{value:"\ud83e\udd14 Apa itu Docker Volume?",id:"-apa-itu-docker-volume",level:2},{value:"1\ufe0f\u20e3 Mengapa kita membutuhkan Docker Volume?",id:"1\ufe0f\u20e3-mengapa-kita-membutuhkan-docker-volume",level:2},{value:"2\ufe0f\u20e3 Jenis-Jenis Penyimpanan di Docker",id:"2\ufe0f\u20e3-jenis-jenis-penyimpanan-di-docker",level:2},{value:"3\ufe0f\u20e3 Perintah Docker Volume (Imperatif)",id:"3\ufe0f\u20e3-perintah-docker-volume-imperatif",level:2},{value:"4\ufe0f\u20e3 Cara Menghubungkan Volume ke Container",id:"4\ufe0f\u20e3-cara-menghubungkan-volume-ke-container",level:2},{value:"Contoh pada MySQL",id:"contoh-pada-mysql",level:3},{value:"5\ufe0f\u20e3 Melihat data Docker Volume di Komputer Host",id:"5\ufe0f\u20e3-melihat-data-docker-volume-di-komputer-host",level:2},{value:"6\ufe0f\u20e3 Tips: Keamanan &amp; Performa",id:"6\ufe0f\u20e3-tips-keamanan--performa",level:2},{value:"7\ufe0f\u20e3 Contoh Implementasi Docker Volume",id:"7\ufe0f\u20e3-contoh-implementasi-docker-volume",level:2},{value:"Skenario 1: Menghubungkan Container dengan Volume",id:"skenario-1-menghubungkan-container-dengan-volume",level:3},{value:"Skenario 2: Berbagi Docker Volume",id:"skenario-2-berbagi-docker-volume",level:3},{value:"Skenario 3: Menggunakan Database MySQL",id:"skenario-3-menggunakan-database-mysql",level:3},{value:"Skenario 4: Aplikasi menggunakan Database dan Docker Volume",id:"skenario-4-aplikasi-menggunakan-database-dan-docker-volume",level:3}];function c(a){const e={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...a.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"-apa-itu-docker-volume",children:"\ud83e\udd14 Apa itu Docker Volume?"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Docker Volume"})," adalah mekanisme penyimpanan persisten yang dikelola oleh Docker untuk menyimpan data yang dihasilkan container di luar sistem file container itu sendiri. Docker Volume memastikan data tetap aman, permanen, dan tidak hilang meskipun container dihentikan, dihapus, atau dibuat ulang. Volume ideal untuk data database, file unggahan, dan konfigurasi."]}),"\n",(0,s.jsx)(e.h2,{id:"1\ufe0f\u20e3-mengapa-kita-membutuhkan-docker-volume",children:"1\ufe0f\u20e3 Mengapa kita membutuhkan Docker Volume?"}),"\n",(0,s.jsxs)(e.p,{children:["Secara default, container pada Docker bersifat ",(0,s.jsx)(e.strong,{children:"ephemeral"})," (sementara)."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Jika container dihapus, semua data yang dibuat di dalamnya (seperti data di ",(0,s.jsx)(e.code,{children:"/var/lib/mysql"})," pada MySQL atau ",(0,s.jsx)(e.code,{children:"/var/lib/postgresql/data"})," pada PostgreSQL) akan ",(0,s.jsx)(e.strong,{children:"ikut terhapus selamanya"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Volume"})," hadir sebagai mekanisme untuk memisahkan data dari siklus hidup container. Data disimpan di luar container (di host Linux), sehingga meskipun container dihancurkan, data tetap utuh."]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"2\ufe0f\u20e3-jenis-jenis-penyimpanan-di-docker",children:"2\ufe0f\u20e3 Jenis-Jenis Penyimpanan di Docker"}),"\n",(0,s.jsx)(e.p,{children:"Terdapat tiga cara utama untuk menyimpan data:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Volumes (Sangat Disarankan)"}),": Dikelola sepenuhnya oleh Docker di area khusus pada sistem file host (",(0,s.jsx)(e.code,{children:"/var/lib/docker/volumes/"}),"). Lebih aman dan kinerjanya lebih stabil."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Bind Mounts"}),": Menghubungkan folder spesifik di komputer host (misal: ",(0,s.jsx)(e.code,{children:"C:\\Users\\Documents\\data"}),") ke dalam container. Sangat bagus untuk pengembangan kode secara real-time."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"tmpfs Mount"}),": Data disimpan di dalam memori (RAM) host. Data akan hilang jika container dimatikan (sangat cepat, cocok untuk data sensitif/password sementara)."]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"3\ufe0f\u20e3-perintah-docker-volume-imperatif",children:"3\ufe0f\u20e3 Perintah Docker Volume (Imperatif)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Membuat Volume:"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker volume create mysql-data\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Melihat Daftar Volume:"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker volume ls\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Melihat Detail Lokasi Penyimpanan:"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker volume inspect mysql-data\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Menghapus Volume:"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker volume rm mysql-data\n"})}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Catatan:"})," Sebelum menghapus volume pastikan container yang menggunakan volume-nya sudah mati."]})}),"\n",(0,s.jsx)(e.h2,{id:"4\ufe0f\u20e3-cara-menghubungkan-volume-ke-container",children:"4\ufe0f\u20e3 Cara Menghubungkan Volume ke Container"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://github.com/TopekoX/belajar-docker/raw/main/img/docker-volume1.png",alt:"Docker Volume"})}),"\n",(0,s.jsxs)(e.p,{children:["Kita bisa menggunakan flag ",(0,s.jsx)(e.code,{children:"-v"})," atau ",(0,s.jsx)(e.code,{children:"--mount"}),". Penggunaan ",(0,s.jsx)(e.code,{children:"-v"})," masih menjadi yang tersingkat dan terpopuler."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Sintaks:"})," ",(0,s.jsx)(e.code,{children:"-v [Nama_Volume]:[Path_Dalam_Container]"})]}),"\n",(0,s.jsx)(e.h3,{id:"contoh-pada-mysql",children:"Contoh pada MySQL"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker run -d \\\n  --name db-server \\\n  -v mysql-data:/var/lib/mysql \\\n  -e MYSQL_ROOT_PASSWORD=rahasia \\\n  mysql:8.4\n"})}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Hasilnya"}),": Semua isi database akan tersimpan di volume ",(0,s.jsx)(e.code,{children:"mysql-data"}),". Kita bisa menghapus container ini dan membuat yang baru, lalu database akan muncul kembali seperti sedia kala."]})}),"\n",(0,s.jsx)(e.h2,{id:"5\ufe0f\u20e3-melihat-data-docker-volume-di-komputer-host",children:"5\ufe0f\u20e3 Melihat data Docker Volume di Komputer Host"}),"\n",(0,s.jsx)(e.p,{children:"Untuk melihat lokasi data kita dapat melakukan inspect:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'docker volume inspect data-volume \n\n[\n    {\n        "CreatedAt": "2025-04-02T22:51:30+08:00",\n        "Driver": "local",\n        "Labels": null,\n        "Mountpoint": "/var/lib/docker/volumes/data-volume/_data",\n        "Name": "data-volume",\n        "Options": null,\n        "Scope": "local"\n    }\n]\n'})}),"\n",(0,s.jsxs)(e.p,{children:["Dari hasil di atas lokasi data di komputer host adalah ",(0,s.jsx)(e.code,{children:"/var/lib/docker/volumes/data-volume/_data"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"Kita bisa melihat isi datanya dengan akses root / administrator komputer host:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo su -\n\nucup@timposulabs:~# cd /var/lib/docker/volumes/data-volume/_data\nucup@timposulabs:/var/lib/docker/volumes/data-volume/_data# ls\n\nmyfile\n"})}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Catatan"}),": Isi file asli selalu berada di dalam folder ",(0,s.jsx)(e.code,{children:"_data"}),"."]})}),"\n",(0,s.jsx)(e.h2,{id:"6\ufe0f\u20e3-tips-keamanan--performa",children:"6\ufe0f\u20e3 Tips: Keamanan & Performa"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Prinsip Read-Only"}),": Jika container hanya butuh membaca file konfigurasi tanpa mengubahnya, gunakan mode ",(0,s.jsx)(e.code,{children:":ro"})," (read-only)."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Contoh: ",(0,s.jsx)(e.code,{children:"-v ./nginx.conf:/etc/nginx/nginx.conf:ro"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Backup Data"}),": Untuk mem-backup data dari volume, kita bisa menjalankan container sementara yang melakukan kompresi (",(0,s.jsx)(e.code,{children:"tar"}),") pada folder volume tersebut."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Contoh Backup"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker run --rm \\\n    -v db-data:/source-data:ro \\\n    -v $(pwd):/backup \\\n    alpine \\\n    tar czf /backup/db-backup-2026.tar.gz -C /source-data .\n"})}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.p,{children:["Keterangan: ",(0,s.jsx)(e.code,{children:"-v $(pwd):/backup"}),": Menghubungkan folder saat ini ke dalam container untuk menampung hasil backup."]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Contoh Restore"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# 1. Buat volume baru\ndocker volume create db-data-new\n\n# 2. Ekstrak file backup ke dalamnya\ndocker run --rm \\\n    -v db-data-new:/dest-data \\\n    -v $(pwd):/backup \\\n    alpine \\\n    sh -c "tar xzf /backup/db-backup-2026.tar.gz -C /dest-data"\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Hapus Volume Tak Terpakai"}),": Gunakan ",(0,s.jsx)(e.code,{children:"docker volume prune"})," secara berkala untuk menghapus volume yang tidak terhubung ke container manapun agar penyimpanan tidak penuh."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"7\ufe0f\u20e3-contoh-implementasi-docker-volume",children:"7\ufe0f\u20e3 Contoh Implementasi Docker Volume"}),"\n",(0,s.jsx)(e.h3,{id:"skenario-1-menghubungkan-container-dengan-volume",children:"Skenario 1: Menghubungkan Container dengan Volume"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://github.com/TopekoX/belajar-docker/raw/main/img/docker-volume1.png",alt:"Docker Volume"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Membuat Volume"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker volume create belajar-data\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Cek daftar Volume"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker volume ls\n\nDRIVER    VOLUME NAME\nlocal     belajar-data\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Membuat Container:"})}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["Membuat Container Alpine Linux dengan nama ",(0,s.jsx)(e.code,{children:"alpine"})," yang terhubung dengan docker volume ",(0,s.jsx)(e.code,{children:"belajar-data"})," dan mount volume berada di ",(0,s.jsx)(e.code,{children:"/data"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker container run -it --rm -v belajar-data:/data --name alpine alpine:latest\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Kita dapat membuat file dalam container ",(0,s.jsx)(e.code,{children:"alpine"}),"."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"cd /data\n\n/data # touch myfile\n/data # ls\nmyfile\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Melihat data Volume di Host:"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'docker volume inspect belajar-data\n\n[\n    {\n        "CreatedAt": "2026-01-26T16:53:15+08:00",\n        "Driver": "local",\n        "Labels": null,\n        "Mountpoint": "/var/lib/docker/volumes/belajar-data/_data",\n        "Name": "belajar-data",\n        "Options": null,\n        "Scope": "local"\n    }\n]\n'})}),"\n",(0,s.jsxs)(e.p,{children:["Dari hasil di atas lokasi data di komputer host adalah ",(0,s.jsx)(e.code,{children:"/var/lib/docker/volumes/belajar-data/_data"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"Kita bisa melihat isi datanya dengan akses root komputer host:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo ls /var/lib/docker/volumes/belajar-data/_data\n\nmyfile\n"})}),"\n",(0,s.jsxs)(e.p,{children:["File ",(0,s.jsx)(e.code,{children:"myfile"})," yang dibuat pada container masih ada di docker volume."]}),"\n",(0,s.jsx)(e.h3,{id:"skenario-2-berbagi-docker-volume",children:"Skenario 2: Berbagi Docker Volume"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://raw.githubusercontent.com/TopekoX/belajar-docker/main/img/docker-volume2.png",alt:"Docker Volume"})}),"\n",(0,s.jsxs)(e.p,{children:["Disini kita akan membuat 2 docker container Alpine Linux dengan nama ",(0,s.jsx)(e.code,{children:"alpine1"})," dan ",(0,s.jsx)(e.code,{children:"alpine2"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Buat container ",(0,s.jsx)(e.code,{children:"alpine1"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker container run -it --rm -v belajar-data:/data --name alpine1 alpine:latest\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Buka terminal baru dan buat container ",(0,s.jsx)(e.code,{children:"alpine2"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker container run -it --rm -v belajar-data:/data --name alpine2 alpine:latest\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Pada ",(0,s.jsx)(e.code,{children:"alpine2"})," kita akan membuat file baru:"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'# cd /data/\n/data # touch hello.txt\n/data # echo "Hallo Bro!!!" > hello.txt\n/data # cat hello.txt\nHallo Bro!!!\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Pada ",(0,s.jsx)(e.code,{children:"alpine1"})," melakukan pengecekan:"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"# cd /data/\n/data # ls\nhello.txt\n/data # cat hello.txt\nHallo Bro!!!\n"})}),"\n",(0,s.jsx)(e.p,{children:"Disini kita sudah berhasil share data pada docker volume."}),"\n",(0,s.jsx)(e.h3,{id:"skenario-3-menggunakan-database-mysql",children:"Skenario 3: Menggunakan Database MySQL"}),"\n",(0,s.jsxs)(e.p,{children:["Penggunaan Docker Volume pada database seperti MySQL, PostgreSQL, MariaDB, dll, sangat penting karena secara default, data di dalam container bersifat sementara (",(0,s.jsx)(e.strong,{children:"ephemeral"}),") dan akan hilang jika container dihapus. Volume memungkinkan data dalam database tetap tersimpan dengan aman di sistem host."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"Docker Volume Database",src:n(52184).A+"",width:"911",height:"261"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Lokasi Data Penting"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Secara default, image database yang digunakan dalam contoh kali ini yaitu MySQL, menyimpan seluruh data databasenya di dalam direktori berikut di dalam container:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"/var/lib/mysql \n"})}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsxs)(e.p,{children:["Setiap database memiliki lokasi data penyimpanan yang berbeda-beda misalnya postgres berada di ",(0,s.jsx)(e.code,{children:"/var/lib/postgresql/data"}),", jadi silahkan baca dokumentasi masing-masing image database yang digunakan."]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Langkah 1: Buat Volume"})}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["Kita dapat membuat volume terlebih dahulu atau langsung membuat volume saat menjalankan container. Contoh disini menggunakan nama volume ",(0,s.jsx)(e.code,{children:"mysql-data"}),"."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker volume create mysql-data\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Langkah 2: Jalankan Container dengan Volume"})}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["Gunakan flag ",(0,s.jsx)(e.code,{children:"-v"})," untuk menghubungkan volume ke direktori data MySQL."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker run -d --name mysql-db -e MYSQL_ROOT_PASSWORD=rahasia -v mysql-data:/var/lib/mysql mysql:8.4\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Dengan menggunakan docker volume, jika kita membuat database di dalam container MySQL di atas, kemudian menghapus container tersebut maka data yang ada di dalam container MySQL tersebut tetap ada, walaupun sifat container yang ",(0,s.jsx)(e.em,{children:"stateless"}),". Jika kita membuat container MySQL baru dengan menggunakan volume tersebut, maka database sebelumnya tetap ada."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Langkah 3: Uji Coba"})}),"\n"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Karena container MySQL tidak diekspose ke jaringan luar, kita harus masuk ke dalam container MySQL menggunakan ",(0,s.jsx)(e.code,{children:"docker exec"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker exec -it mysql-db mysql -u root -p\n\nEnter password:\n\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 8\nServer version: 8.4.8 MySQL Community Server - GPL\n\nCopyright (c) 2000, 2026, Oracle and/or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql>\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsx)(e.li,{children:"Buat database:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"mysql> create database belajar_docker;\n\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| belajar_docker     |\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"3",children:["\n",(0,s.jsx)(e.li,{children:"Untuk mengujinya silahkan keluar bash MySQL kemudian hapus container MySQL, lalu buat container MySQL yang baru dengan menggunakan volume sebelumnya. dan masuk ke console MySQL dan cek databasenya kembali."}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"skenario-4-aplikasi-menggunakan-database-dan-docker-volume",children:"Skenario 4: Aplikasi menggunakan Database dan Docker Volume"}),"\n",(0,s.jsx)(e.p,{children:"Pada skenario ini kita sudah akan menggunakan aplikasi yang kompleks dimana kita akan mengimplementasikan Load Balancing dan Docker Volume."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"Docker Volume Database",src:n(70191).A+"",width:"1291",height:"462"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Load Balancing dengan Nginx:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Pengguna / User"})," mengirimkan permintaan ke ",(0,s.jsx)(e.strong,{children:"Nginx Webserver"})," melalui port ",(0,s.jsx)(e.code,{children:"80"}),"."]}),"\n",(0,s.jsx)(e.li,{children:'Nginx bertindak sebagai "pengatur lalu lintas" yang berada di antara user dan beberapa application server di belakangnya.'}),"\n",(0,s.jsxs)(e.li,{children:["Nginx mendistribusikan permintaan masuk secara merata ke dua instance ",(0,s.jsx)(e.strong,{children:"app-1"})," dan ",(0,s.jsx)(e.strong,{children:"app-2"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["Jika salah satu aplikasi ",(0,s.jsx)(e.strong,{children:"mengalami gangguan"}),", Nginx akan secara otomatis mengalihkan lalu lintas ke server lain yang masih berfungsi."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Integrasi Database dan Volume"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Kedua aplikasi (",(0,s.jsx)(e.code,{children:"app-1"})," dan ",(0,s.jsx)(e.code,{children:"app-2"}),") terhubung ke satu instance MySQL yang berjalan di container terpisah."]}),"\n",(0,s.jsx)(e.li,{children:"Database MySQL membutuhkan Docker Volume untuk persistensi data."}),"\n",(0,s.jsx)(e.li,{children:"Volume memisahkan data database (seperti file skema dan data aktual) dari siklus hidup container database. Data tetap utuh meskipun container MySQL dihapus atau dibuat ulang."}),"\n",(0,s.jsx)(e.li,{children:"Data fisik volume disimpan di Docker Host (mesin fisik/virtual yang menjalankan Docker), memastikan data aman dan dapat dibackup dengan mudah."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Secara keseluruhan, arsitektur aplikasi yang akan dibuat memberikan solusi yang kuat yaitu load balancing untuk menangani lalu lintas masuk untuk skalabilitas aplikasi, sementara Docker volume memastikan data dalam database tetap persisten dan aman."}),"\n",(0,s.jsxs)(e.p,{children:["Pada contoh kasus ini untuk aplikasi ",(0,s.jsx)(e.code,{children:"app-1"})," dan ",(0,s.jsx)(e.code,{children:"app-2"})," menggunakan Spring Boot, untuk bahasa pemrograman lain tinggal menyesuaikan. Pada aplikasi ini, menggunakan fitur CRUD REST API yang tehubung ke database MySQL dengan API yang memproses data ",(0,s.jsx)(e.code,{children:"products"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"Contoh JSON:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n    "id": 1,\n    "name": "iphone 17",\n    "price": "20000000.00"\n}\n'})}),"\n",(0,s.jsxs)(e.admonition,{type:"tip",children:[(0,s.jsx)(e.p,{children:"Untuk image aplikasi dapat di pull pada docker hub:"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://hub.docker.com/repository/docker/timposulabs/springboot-crud-demo",children:"https://hub.docker.com/repository/docker/timposulabs/springboot-crud-demo"})}),"\n"]}),(0,s.jsx)(e.p,{children:"Untuk source code project Spring Boot App:"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://gitlab.com/topekox/demo-springboot-crud",children:"https://gitlab.com/topekox/demo-springboot-crud"})}),"\n"]}),(0,s.jsx)(e.p,{children:"Aplikasi ini membutuhkan environment untuk koneksi ke database MySQL:"}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"DB_ADD=localhost\nDB_PORT=3306\nDB_NAME=belajar\nDB_USER=root\nDB_PASS=rahasia\n"})})]}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.p,{children:["Sebelum mengikuti step by step langkah di bawah ini, sebelumnya buat terlebih dahulu docker network dengan nama ",(0,s.jsx)(e.code,{children:"backend-network"}),"."]})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Menjalankan Database MySQL:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker run -d --rm --name mysql-db \\\n-e MYSQL_ROOT_PASSWORD=rahasia \\\n--network backend-network \\\n-v mysql-data:/var/lib/mysql \\\nmysql:8.4\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsx)(e.li,{children:"Masuk ke Database MySQL, dan buat database:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker exec -it mysql-db mysql -u root -p\n\nEnter password:\n\nmysql> create database belajar;\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"3",children:["\n",(0,s.jsx)(e.li,{children:"Pull aplikasi spring app dari Docker Hub:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker pull timposulabs/springboot-crud-demo:v1.1\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"4",children:["\n",(0,s.jsxs)(e.li,{children:["Membuat Container ",(0,s.jsx)(e.code,{children:"app-1"})," dan ",(0,s.jsx)(e.code,{children:"app-2"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker container run -d --name app-1 \\\n-e DB_ADD=mysql-db \\\n-e DB_PORT=3306 \\\n-e DB_NAME=belajar \\\n-e DB_USER=root \\\n-e DB_PASS=rahasia \\\n--network backend-network \\\ntimposulabs/springboot-crud-demo:v1.1\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker container run -d --name app-2 \\\n-e DB_ADD=mysql-db \\\n-e DB_PORT=3306 \\\n-e DB_NAME=belajar \\\n-e DB_USER=root \\\n-e DB_PASS=rahasia \\\n--network backend-network \\\ntimposulabs/springboot-crud-demo:v1.1\n"})}),"\n",(0,s.jsxs)(e.admonition,{type:"info",children:[(0,s.jsxs)(e.p,{children:["Di dalam ekosistem Docker, setiap container memiliki jaringan (namespace) yang terisolasi, sehingga penggunaan ",(0,s.jsx)(e.code,{children:"localhost"})," untuk variabel ",(0,s.jsx)(e.code,{children:"DB_ADD"})," di dalam container aplikasi merujuk ke container itu sendiri, bukan ke container database atau ke host machine."]}),(0,s.jsxs)(e.p,{children:["Sehingga kita harus mengganti ",(0,s.jsx)(e.code,{children:"localhost"})," pada variabel ",(0,s.jsx)(e.code,{children:"DB_ADD"}),", dengan nama container database yang sedang berjalan di network yang sama."]})]}),"\n",(0,s.jsxs)(e.ol,{start:"5",children:["\n",(0,s.jsx)(e.li,{children:"Membuat container Load Balancing dengan Nginx:"}),"\n"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Buat konfigurasi Nginx ",(0,s.jsx)(e.code,{children:"load-balancer.conf"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"upstream backend {\n  server app-1:8080;\n  server app-2:8080;\n}\n\nserver {\n  listen 80;\n\n  location / {\n    proxy_pass http://backend;\n  }\n}\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Buat ",(0,s.jsx)(e.code,{children:"dockerfile"})," untuk membuat image Nginx:"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dockerfile",children:"FROM nginx:stable-alpine\nCOPY load-balancer.conf /etc/nginx/conf.d/default.conf\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Build image Nginx, contoh dengan nama ",(0,s.jsx)(e.code,{children:"web-server:1.0"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker image build -t web-server:1.0 .\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Jalankan container Nginx ",(0,s.jsx)(e.code,{children:"web-server:1.0"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker container run -d --name nginx-webserver --network backend-network -p 80:80 web-server:1.0\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"6",children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Uji coba aplikasi dengan menggunakan Rest API Client seperti cURL, Postman dll, ke URL ",(0,s.jsx)(e.code,{children:"http://localhost:80/products/"}),":"]}),"\n",(0,s.jsx)(e.p,{children:"Contoh:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"curl -v http://localhost:80/products/ | jq .\n"})}),"\n",(0,s.jsx)(e.p,{children:"Uji coba dengan menggunakan method GET, POST, PUT dan DELETE."})]})}function u(a={}){const{wrapper:e}={...(0,l.R)(),...a.components};return e?(0,s.jsx)(e,{...a,children:(0,s.jsx)(c,{...a})}):c(a)}}}]);