"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[60508],{20352(e,n,a){a.d(n,{A:()=>r});const r="data:image/png;base64,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"},28453(e,n,a){a.d(n,{R:()=>l,x:()=>t});var r=a(96540);const i={},s=r.createContext(i);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:n},e.children)}},73369(e,n,a){a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>k,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"reverse-proxy","title":"Reverse Proxy","description":"\ud83e\udd14 Apa itu Reverse Proxy?","source":"@site/tutorial/docker/10-reverse-proxy.md","sourceDirName":".","slug":"/reverse-proxy","permalink":"/docker/reverse-proxy","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"Reverse Proxy"},"sidebar":"tutorialSidebar","previous":{"title":"Docker Network","permalink":"/docker/docker-network"},"next":{"title":"Load Balancing","permalink":"/docker/load-balancing"}}');var i=a(74848),s=a(28453);const l={sidebar_position:11,title:"Reverse Proxy"},t=void 0,o={},c=[{value:"\ud83e\udd14 Apa itu Reverse Proxy?",id:"-apa-itu-reverse-proxy",level:2},{value:"Mengapa kita menggunakan Reverse Proxy?",id:"mengapa-kita-menggunakan-reverse-proxy",level:3},{value:"1\ufe0f\u20e3 Arsitektur Jaringan (Docker Network)",id:"1\ufe0f\u20e3-arsitektur-jaringan-docker-network",level:2},{value:"3\ufe0f\u20e3 Konfigurasi Nginx",id:"3\ufe0f\u20e3-konfigurasi-nginx",level:2},{value:"4\ufe0f\u20e3 Membuat Docker Image",id:"4\ufe0f\u20e3-membuat-docker-image",level:2},{value:"5\ufe0f\u20e3 Uji Coba\ud83d\udd25",id:"5\ufe0f\u20e3-uji-coba",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"-apa-itu-reverse-proxy",children:"\ud83e\udd14 Apa itu Reverse Proxy?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Reverse Proxy"})," adalah sebuah server (seperti Nginx, Traefik, dll) yang berada di depan satu atau lebih aplikasi backend (seperti Spring Boot, NodeJS, Go, dll). Pada tutorial ini kita akan menggunakan Nginx sebagai reverse proxy, karena sangat populer digunakan dibanding yang lainnya."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Docker Network",src:a(20352).A+"",width:"601",height:"281"})}),"\n",(0,i.jsx)(n.h3,{id:"mengapa-kita-menggunakan-reverse-proxy",children:"Mengapa kita menggunakan Reverse Proxy?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Keamanan"}),": Aplikasi Backend tidak terekspos langsung ke internet. Hanya Nginx yang membuka port luar."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Load Balancing"}),": Nginx bisa membagi beban ke beberapa kontainer Backend sekaligus."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SSL Termination"}),": Nginx mengelola sertifikat HTTPS, sehingga aplikasi Backend cukup fokus pada logika bisnis di HTTP biasa."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Satu Pintu"}),": Menggabungkan banyak microservices ke dalam satu domain/port yang sama."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"1\ufe0f\u20e3-arsitektur-jaringan-docker-network",children:"1\ufe0f\u20e3 Arsitektur Jaringan (Docker Network)"}),"\n",(0,i.jsx)(n.p,{children:"Dalam arsitektur contoh kasus ini, kita akan membuat sebuah jaringan privat."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nginx"}),": Terhubung ke Jaringan luar (Port 80) dan Jaringan Internal Docker."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Spring Boot (Aplikasi Backend)"}),": Hanya terhubung ke Jaringan Internal Docker (Port 8080). Tidak bisa diakses langsung dari browser Jaringan luar lewat port 8080."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Docker Network",src:a(20352).A+"",width:"601",height:"281"})}),"\n",(0,i.jsx)(n.h2,{id:"3\ufe0f\u20e3-konfigurasi-nginx",children:"3\ufe0f\u20e3 Konfigurasi Nginx"}),"\n",(0,i.jsxs)(n.p,{children:["Buat file bernama ",(0,i.jsx)(n.code,{children:"reverse-proxy.conf"}),". Di sini kita memberi tahu Nginx untuk meneruskan semua permintaan ke service bernama ",(0,i.jsx)(n.code,{children:"springboot-app"}),". Disini diasumsikan aplikasi backend sudah menjadi image."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-conf",children:"server {\n  listen 80;\n  server_name springboot-app;\n\n  location / {\n    proxy_pass http://springboot-app:8080/;    \n  }\n}\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Untuk aplikasi Backend anda bisa membuatnya sendiri menggunakan bahasa pemrograman lain, atau menggunakan image yang sudah saya buat: ",(0,i.jsx)(n.a,{href:"https://hub.docker.com/r/timposulabs/springboot-hello",children:"https://hub.docker.com/r/timposulabs/springboot-hello"}),"."]}),(0,i.jsxs)(n.p,{children:["Aplikasi backend yang dibuat pada tutorial ini, untuk endpoint ",(0,i.jsx)(n.code,{children:"/hello"})," method GET, akan mengembalikan reponse API:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "host":"<ip address>",\n  "message":"Hello from Spring Boot!",\n  "hostname":"<hostname>"\n}\n'})})]}),"\n",(0,i.jsx)(n.h2,{id:"4\ufe0f\u20e3-membuat-docker-image",children:"4\ufe0f\u20e3 Membuat Docker Image"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Membuat dockerfile dari base image Nginx dan melakukan copy file ",(0,i.jsx)(n.code,{children:"reverse-proxy.conf"})," yang telah dibuat ke dalam image Nginx."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dockerfile",children:"FROM nginx:stable-bullseye\nCOPY reverse-proxy.conf /etc/nginx/conf.d/default.conf\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Build image:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker image build -t webserver:1.0.0 .\n"})}),"\n",(0,i.jsx)(n.h2,{id:"5\ufe0f\u20e3-uji-coba",children:"5\ufe0f\u20e3 Uji Coba\ud83d\udd25"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Jalankan kontainer Spring Boot App:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker container run -d --rm --name springboot-app --network backend-network topekox/springboot-hello:1.0\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Jalankan kontainer Nginx:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker container run -d --rm --name webserver --network backend-network -p 80:80 webserver:1.0.0\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Cek inspect network:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'docker network inspect backend-network \n\n"Containers": {\n        "253940e840457752a9352760090e33d7cf947ab7f919932fa255a679e3a2faca": {\n            "Name": "webserver",\n            "EndpointID": "2a26bfa51dddace376346b40d5005f043bcafa538b1ad80d087389a011366a9e",\n            "MacAddress": "7e:00:e7:a7:a4:8d",\n            "IPv4Address": "172.18.0.3/16",\n            "IPv6Address": ""\n        },\n        "e86b63f85bdbf4bead5123c8d5916cadbef7bd4c7255415d8c1c329e0c53c22d": {\n            "Name": "springboot-app",\n            "EndpointID": "dcfda9ae191c84c3171cf82ba449899238e5bbf12ad0160c8a6a730fd77e56d0",\n            "MacAddress": "ca:cd:5f:e3:af:e7",\n            "IPv4Address": "172.18.0.2/16",\n            "IPv6Address": ""\n        }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Terdapat 2 container di dalam network ",(0,i.jsx)(n.code,{children:"backend-network"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Pengujian"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Meskipun Spring Boot jalan di 8080, kita harus mengaksesnya lewat port 80 (Nginx)."}),"\n",(0,i.jsxs)(n.li,{children:["Jika kita mencoba buka ",(0,i.jsx)(n.code,{children:"http://localhost:8080"}),", akses akan ditolak. Inilah yang disebut ",(0,i.jsx)(n.strong,{children:"keamanan infrastruktur"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl http://localhost:80/hello \n\n{"hostname":"e86b63f85bdb","message":"Hello from Spring Boot!","host":"172.18.0.2"}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8080/hello \n\ncurl: (7) Failed to connect to localhost port 8080 after 0 ms: Couldn't connect to server\n"})})]})}function k(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);