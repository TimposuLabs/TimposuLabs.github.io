"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[77964],{28453(t,r,n){n.d(r,{R:()=>a,x:()=>s});var e=n(96540);const i={},o=e.createContext(i);function a(t){const r=e.useContext(o);return e.useMemo(function(){return"function"==typeof t?t(r):{...r,...t}},[r,t])}function s(t){let r;return r=t.disableParentContext?"function"==typeof t.components?t.components(i):t.components||i:a(t.components),e.createElement(o.Provider,{value:r},t.children)}},35845(t,r,n){n.d(r,{A:()=>e});const e=n.p+"assets/images/springboot-mvc33-6664931e196eeb1979e59aa7e093fb49.png"},65418(t,r,n){n.d(r,{A:()=>e});const e=n.p+"assets/images/springboot-mvc34-39f4f4743f3e297c77ad08eb7fef7944.png"},70725(t,r,n){n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>e,toc:()=>c});const e=JSON.parse('{"id":"springboot/springboot-mvc-crud/delete","title":"Delete Data","description":"Operasi Delete digunakan untuk menghapus data dari database berdasarkan identitas uniknya (biasanya ID).","source":"@site/tutorial/spring/springboot/springboot-mvc-crud/05-delete.md","sourceDirName":"springboot/springboot-mvc-crud","slug":"/springboot/springboot-mvc-crud/delete","permalink":"/spring/springboot/springboot-mvc-crud/delete","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Delete Data"},"sidebar":"tutorialSidebar","previous":{"title":"Update Data","permalink":"/spring/springboot/springboot-mvc-crud/update"},"next":{"title":"Spring Boot MVC Security","permalink":"/spring/springboot/springboot-mvc-security/"}}');var i=n(74848),o=n(28453);const a={sidebar_position:6,title:"Delete Data"},s=void 0,d={},c=[{value:"1\ufe0f\u20e3 Entity",id:"1\ufe0f\u20e3-entity",level:2},{value:"2\ufe0f\u20e3 Repository Layer",id:"2\ufe0f\u20e3-repository-layer",level:2},{value:"3\ufe0f\u20e3 Service Layer",id:"3\ufe0f\u20e3-service-layer",level:2},{value:"4\ufe0f\u20e3 Controller",id:"4\ufe0f\u20e3-controller",level:2},{value:"5\ufe0f\u20e3 Membuat View",id:"5\ufe0f\u20e3-membuat-view",level:2},{value:"6\ufe0f\u20e3 Menjalankan Aplikasi",id:"6\ufe0f\u20e3-menjalankan-aplikasi",level:2}];function l(t){const r={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...t.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.p,{children:["Operasi ",(0,i.jsx)(r.strong,{children:"Delete"})," digunakan untuk menghapus data dari database berdasarkan identitas uniknya (biasanya ID)."]}),"\n",(0,i.jsxs)(r.p,{children:['Proses penghapusan biasanya dipicu oleh aksi user pada interface view (seperti mengklik tombol "',(0,i.jsx)(r.strong,{children:"Hapus"}),'" pada tabel).']}),"\n",(0,i.jsx)(r.p,{children:"Alur pada Spring Boot MVC:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Input"}),": ",(0,i.jsx)(r.strong,{children:"ID"})," unik dari data yang akan dihapus."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Proses"}),": Mencari data di database dan menghapusnya menggunakan ",(0,i.jsx)(r.code,{children:"Repository"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Output"}),": Mengarahkan kembali pengguna ke daftar data (Refresh list)."]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["Untuk contoh kasus pada tutorial ini kita akan menggunakan data ",(0,i.jsx)(r.code,{children:"Product"})," yang nantinya akan di mapping menjadi table ke database MySQL."]}),"\n",(0,i.jsx)("img",{src:"/img/general/Spring-boot-diagram1.svg"}),"\n",(0,i.jsx)(r.h2,{id:"1\ufe0f\u20e3-entity",children:"1\ufe0f\u20e3 Entity"}),"\n",(0,i.jsxs)(r.p,{children:["Entity ",(0,i.jsx)(r.code,{children:"Product.java"}),":"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:'import java.math.BigDecimal;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.validation.constraints.Min;\r\nimport jakarta.validation.constraints.NotEmpty;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport jakarta.validation.constraints.Size;\r\n\r\n@Entity\r\n@Table(name = "product")\r\npublic class Product {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = "id")\r\n\tprivate Long id;\r\n\t\r\n\t@NotEmpty(message = "Cannot be empty")\r\n\t@Column(name = "name")\r\n\t@Size(min = 1, message = "Min 1 char")\r\n\tprivate String name;\r\n\t\r\n\t@NotEmpty(message = "Cannot be empty")\r\n\t@Column(name = "description")\r\n\t@Size(min = 1, message = "Min 1 char")\r\n\tprivate String description;\r\n\t\r\n\t@NotNull(message = "Is Required")\r\n\t@Column(name = "price")\r\n\t@Min(value = 0)\r\n\tprivate BigDecimal price;\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic BigDecimal getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\r\n\tpublic void setPrice(BigDecimal price) {\r\n\t\tthis.price = price;\r\n\t}\r\n}\n'})}),"\n",(0,i.jsx)(r.h2,{id:"2\ufe0f\u20e3-repository-layer",children:"2\ufe0f\u20e3 Repository Layer"}),"\n",(0,i.jsxs)(r.p,{children:["Layer Repository ",(0,i.jsx)(r.code,{children:"ProductRepository"}),"."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"import org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.timposulabs.model.Product;\r\n\r\npublic interface ProductRepository extends JpaRepository<Product, Long> {\r\n\r\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"3\ufe0f\u20e3-service-layer",children:"3\ufe0f\u20e3 Service Layer"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"ProductService.java"})}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"import java.util.List;\r\n\r\nimport com.timposulabs.model.Product;\r\n\r\npublic interface ProductService {\r\n\t\r\n\tList<Product> findAll();\r\n\t\r\n\tProduct findById(Long id);\r\n\t\r\n\tProduct save(Product product);\r\n\t\r\n\tvoid delete(Long id);\r\n}\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Implementasi Service ",(0,i.jsx)(r.code,{children:"ProductServiceImpl.java"})]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:'import java.util.List;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.timposulabs.model.Product;\r\nimport com.timposulabs.repository.ProductRepository;\r\n\r\n@Service\r\npublic class ProductServiceImpl implements ProductService {\r\n\r\n\tprivate ProductRepository repository;\r\n\t\r\n\tpublic ProductServiceImpl(ProductRepository repository) {\r\n\t\tthis.repository = repository;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List<Product> findAll() {\r\n\t\treturn repository.findAll();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Product findById(Long id) {\r\n\t\treturn repository.findById(id)\r\n\t\t\t\t.orElseThrow(() -> new RuntimeException("ID Not Found"));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Product save(Product product) {\r\n\t\treturn repository.save(product);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void delete(Long id) {\r\n\t\trepository.deleteById(id);\r\n\t}\r\n}\n'})}),"\n",(0,i.jsx)(r.h2,{id:"4\ufe0f\u20e3-controller",children:"4\ufe0f\u20e3 Controller"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"ProductController.java"})," kita akan menambahkan halaman form dan method POST untuk menyimpan data."]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:'import java.util.List;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\nimport com.timposulabs.model.Product;\r\nimport com.timposulabs.service.ProductService;\r\n\r\nimport jakarta.validation.Valid;\r\n\r\n@Controller\r\n@RequestMapping("/product")\r\npublic class ProductController {\r\n\r\n\tprivate ProductService productService;\r\n\t\r\n\tpublic ProductController(ProductService productService) {\r\n\t\tthis.productService = productService;\r\n\t}\r\n\r\n\t@GetMapping("/list")\r\n\tpublic String listProduct(Model model) {\r\n\t\tList<Product> productList = productService.findAll();\r\n\t\tmodel.addAttribute("products", productList);\r\n\t\treturn "product/product-list";\r\n\t}\r\n\t\r\n\t@GetMapping("/form")\r\n\tpublic String showForm(Model model) {\r\n\t\tmodel.addAttribute("product", new Product());\r\n\t\treturn "product/product-form";\r\n\t}\r\n\t\r\n\t@PostMapping("/save")\r\n\tpublic String saveProduct(@Valid @ModelAttribute("product") Product product,\r\n\t\t\tBindingResult bindingResult) {\r\n\t\t\r\n\t\tif (bindingResult.hasErrors()) {\r\n\t\t\treturn "product/product-form";\r\n\t\t}\r\n\t\t\r\n\t\tproductService.save(product);\r\n\t\treturn "redirect:/product/list";\r\n\t}\r\n\t\r\n\t@GetMapping("/update")\r\n\tpublic String updateProduct(@RequestParam("id") Long id, Model model) {\r\n\t\tProduct product = productService.findById(id);\r\n\t\tmodel.addAttribute("product", product);\r\n\t\treturn "product/product-form";\r\n\t}\r\n\t\r\n\t@GetMapping("/delete")\r\n\tpublic String deleteProduct(@RequestParam("id") Long id) {\r\n\t\tproductService.delete(id);\r\n\t\treturn "redirect:/product/list";\r\n\t}\r\n}\n'})}),"\n",(0,i.jsx)(r.h2,{id:"5\ufe0f\u20e3-membuat-view",children:"5\ufe0f\u20e3 Membuat View"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Kita akan menambahkan link baru yang akan mengarah ke ",(0,i.jsx)(r.code,{children:"/product/delete?id=xxx"}),":"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-html",children:'<a th:href="@{/product/delete(id=${product.id})}"\r\n\tclass="btn btn-danger btn-sm"\r\n\tonclick="if (!(confirm(\'Are You Sure for Delete?\'))) return false">\r\n\tDelete\r\n</a>\n'})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Membuat view untuk Product List Page ",(0,i.jsx)(r.code,{children:"product-list.html"})," pada direktori ",(0,i.jsx)(r.code,{children:"src/main/resources/templates/product"})," dimana di sini saya menambahkan Bootstrap untuk css nya."]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html xmlns:th="http://www.thymeleaf.org">\r\n\t<head>\r\n\t\t<title>Belajar Spring CRUD</title>\r\n\t\t<meta charset="utf-8">\r\n\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\r\n\t\t<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">\r\n\t</head>\r\n\t<body>\r\n\t\t<div class="container">\r\n\t\t\t<h3>Product List</h3>\r\n\t\t\t<hr />\r\n\t\t\t<a th:href="@{/product/form}"\r\n\t\t\t\tclass="btn btn-primary btn-sm mb-3">Add Product</a>\r\n\t\t\t<table class="table table-bordered table-striped">\r\n\t\t\t  <thead>\r\n\t\t\t    <tr>\r\n\t\t\t      <th scope="col">ID</th>\r\n\t\t\t      <th scope="col">Product Name</th>\r\n\t\t\t      <th scope="col">Description</th>\r\n\t\t\t      <th scope="col">Price</th>\r\n\t\t\t      <th scope="col">Action</th>\r\n\t\t\t    </tr>\r\n\t\t\t  </thead>\r\n\t\t\t  <tbody>\r\n\t\t\t    <tr th:each="product : ${products}">\r\n\t\t\t      <th scope="row" th:text="${product.id}"></th>\r\n\t\t\t      <td th:text="${product.name}"></td>\r\n\t\t\t      <td th:text="${product.description}"></td>\r\n\t\t\t      <td th:text="${#numbers.formatCurrency(product.price)}"></td>\r\n\t\t\t      <td>\r\n\t\t\t\t\t<a th:href="@{/product/update(id=${product.id})}"\r\n\t\t\t\t\t   class="btn btn-info btn-sm">\r\n\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a th:href="@{/product/delete(id=${product.id})}"\r\n\t\t\t\t\t   class="btn btn-danger btn-sm"\r\n\t\t\t\t\t   onclick="if (!(confirm(\'Are You Sure for Delete?\'))) return false">\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</a>\r\n\t\t\t\t  </td>\r\n\t\t\t    </tr>\r\n\t\t\t  </tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t\t<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"><\/script>\r\n\t</body>\r\n</html>\n'})}),"\n",(0,i.jsx)(r.h2,{id:"6\ufe0f\u20e3-menjalankan-aplikasi",children:"6\ufe0f\u20e3 Menjalankan Aplikasi"}),"\n",(0,i.jsx)(r.p,{children:"Menjalankan aplikasi Spring Boot:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Buka terminal di root project."}),"\n",(0,i.jsxs)(r.li,{children:["Jalankan dengan perintah Maven: ",(0,i.jsx)(r.code,{children:"mvn spring-boot:run"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:["Buka browser dan akses ",(0,i.jsx)(r.a,{href:"http://localhost:8080/product/list",children:"http://localhost:8080/product/list"}),"."]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Spring Boot MVC",src:n(99932).A+"",width:"1205",height:"470"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Spring Boot MVC",src:n(35845).A+"",width:"1205",height:"470"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Spring Boot MVC",src:n(65418).A+"",width:"1205",height:"470"})}),"\n",(0,i.jsx)(r.admonition,{type:"info",children:(0,i.jsxs)(r.p,{children:["Source Code: ",(0,i.jsx)(r.a,{href:"https://github.com/TopekoX/belajar-springboot-mvc-crud/tree/main/04-spring-mvc-crud-delete",children:"https://github.com/TopekoX/belajar-springboot-mvc-crud/tree/main/04-spring-mvc-crud-delete"})]})})]})}function p(t={}){const{wrapper:r}={...(0,o.R)(),...t.components};return r?(0,i.jsx)(r,{...t,children:(0,i.jsx)(l,{...t})}):l(t)}},99932(t,r,n){n.d(r,{A:()=>e});const e=n.p+"assets/images/springboot-mvc32-80e6640e6d1e534936bbfa64dda6f5d7.png"}}]);