"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[6746],{8197(n,r,t){t.d(r,{A:()=>e});const e=t.p+"assets/images/springboot-mvc19-2f76936dc1e2621dc82959c36d613506.png"},28453(n,r,t){t.d(r,{R:()=>s,x:()=>o});var e=t(96540);const i={},a=e.createContext(i);function s(n){const r=e.useContext(a);return e.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function o(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),e.createElement(a.Provider,{value:r},n.children)}},49910(n,r,t){t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>e,toc:()=>d});const e=JSON.parse('{"id":"springboot/springboot-mvc/init-binder","title":"Init Binder","description":"@InitBinder adalah fitur dalam Spring MVC yang berfungsi sebagai \\"pengolah data awal\\" sebelum input dari user dimasukkan ke dalam objek Java.","source":"@site/tutorial/spring/springboot/springboot-mvc/13-init-binder.md","sourceDirName":"springboot/springboot-mvc","slug":"/springboot/springboot-mvc/init-binder","permalink":"/spring/springboot/springboot-mvc/init-binder","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"sidebar_position":15,"title":"Init Binder"},"sidebar":"tutorialSidebar","previous":{"title":"Validation Required","permalink":"/spring/springboot/springboot-mvc/validation-required"},"next":{"title":"Validation Number Range","permalink":"/spring/springboot/springboot-mvc/validation-number-range"}}');var i=t(74848),a=t(28453);const s={sidebar_position:15,title:"Init Binder"},o=void 0,l={},d=[{value:"1\ufe0f\u20e3 Membuat Class Object",id:"1\ufe0f\u20e3-membuat-class-object",level:3},{value:"2\ufe0f\u20e3 Membuat Controller",id:"2\ufe0f\u20e3-membuat-controller",level:3},{value:"Penjelasan:",id:"penjelasan",level:4},{value:"3\ufe0f\u20e3 Membuat View",id:"3\ufe0f\u20e3-membuat-view",level:3}];function m(n){const r={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"@InitBinder"}),' adalah fitur dalam Spring MVC yang berfungsi sebagai "pengolah data awal" sebelum input dari user dimasukkan ke dalam objek Java.']}),"\n",(0,i.jsx)(r.p,{children:"Berikut poin-poin utamanya:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Pembersih Data (Sanitasi)"}),": Paling sering digunakan untuk memotong spasi kosong di awal/akhir input teks secara otomatis (trimming)."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Konverter Format"}),": Mengatur bagaimana format tertentu (seperti format tanggal ",(0,i.jsx)(r.code,{children:"dd-mm-yyyy"}),") harus dibaca dan diubah menjadi objek Java."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Keamanan Data"}),": Bisa membatasi field mana saja yang boleh diterima dari form (menggunakan ",(0,i.jsx)(r.code,{children:"setAllowedFields"}),") untuk mencegah peretasan data."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Waktu Eksekusi"}),": Berjalan sebelum proses ",(0,i.jsx)(r.code,{children:"@Valid"})," atau pengisian data ke model dimulai."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Cakupan"}),": Jika ditaruh di dalam ",(0,i.jsx)(r.code,{children:"Controller"}),", hanya berlaku untuk ",(0,i.jsx)(r.code,{children:"Controller"})," itu. Jika di ",(0,i.jsx)(r.code,{children:"@ControllerAdvice"}),", berlaku untuk seluruh aplikasi."]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["Analogi: ",(0,i.jsx)(r.code,{children:"@InitBinder"})," seperti saringan yang memastikan air (data) yang masuk ke dalam wadah (objek) sudah bersih dan sesuai standar sebelum digunakan."]}),"\n",(0,i.jsx)(r.p,{children:"Contoh:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"// menambahkan initbinder, method ini akan selalu dieksekusi sebelum controller dipanggil\r\n// method ini akan convert trim input string dan menghapus setiap spasi / string kosong \r\n@InitBinder\r\npublic void initBinder(WebDataBinder dataBinder) {\r\n\tStringTrimmerEditor trimmerEditor = new StringTrimmerEditor(true);\r\n\tdataBinder.registerCustomEditor(String.class, trimmerEditor);\r\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"1\ufe0f\u20e3-membuat-class-object",children:"1\ufe0f\u20e3 Membuat Class Object"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Membuat Class Model POJO ",(0,i.jsx)(r.code,{children:"Person.java"}),", dan menambahkan anotation validation pada field-nya:"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:'import jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport jakarta.validation.constraints.Size;\r\n\r\npublic class Person {\r\n\t\r\n\t@NotBlank(message = "Is Required")\r\n\tprivate String firstName;\r\n\t\r\n\t@NotNull(message = "Is Required")\r\n\t@Size(min = 1, message = "Min 1 char")\r\n\tprivate String lastName;\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n}\n'})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Class model di atas akan di mapping dan properties-nya akan di-binding ke dalam element HTML."}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"2\ufe0f\u20e3-membuat-controller",children:"2\ufe0f\u20e3 Membuat Controller"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Membuat Controller ",(0,i.jsx)(r.code,{children:"PersonController.java"}),":"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:'import java.beans.PropertyEditorSupport;\r\n\r\nimport org.springframework.beans.propertyeditors.StringTrimmerEditor;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.WebDataBinder;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.InitBinder;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\nimport com.timposulabs.model.Person;\r\n\r\nimport jakarta.validation.Valid;\r\n\r\n@Controller\r\npublic class PersonController {\r\n\t\r\n\t// menambahkan initbinder, method ini akan selalu dieksekusi sebelum controller dipanggil\r\n\t// method ini akan convert trim input string dan menghapus setiap spasi / string kosong \r\n\t@InitBinder\r\n\tpublic void initBinder(WebDataBinder dataBinder) {\r\n\t\tStringTrimmerEditor trimmerEditor = new StringTrimmerEditor(true);\r\n\t\tdataBinder.registerCustomEditor(String.class, trimmerEditor);\r\n\t}\r\n\t\r\n\t// initbinder mengubah string menjadi uppercase\r\n\t@InitBinder\r\n\tpublic void initBinderUpper(WebDataBinder dataBinder) {\r\n\t\tdataBinder.registerCustomEditor(String.class, new PropertyEditorSupport() {\r\n\t\t\t@Override\r\n\t\t\tpublic void setAsText(String text) throws IllegalArgumentException {\r\n\t\t\t\tsetValue(text != null ? text.toUpperCase() : null);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@GetMapping("/")\r\n\tpublic String showForm(Model model) {\r\n\t\tmodel.addAttribute("person", new Person());\r\n\t\treturn "person-form";\r\n\t}\r\n\t\r\n\t@PostMapping("/process")\r\n\tpublic String processForm(\r\n\t\t\t@Valid @ModelAttribute("person") Person person,\r\n\t\t\tBindingResult bindingResult) {\r\n\t\t\r\n\t\tSystem.out.println("Lastname: " + person.getLastName());\r\n\t\t\r\n\t\tif (bindingResult.hasErrors()) {\r\n\t\t\treturn "person-form";\r\n\t\t} else {\r\n\t\t\treturn "person-confirm";\r\n\t\t}\r\n\t}\r\n}\n'})}),"\n",(0,i.jsx)(r.h4,{id:"penjelasan",children:"Penjelasan:"}),"\n",(0,i.jsxs)(r.p,{children:["Method ",(0,i.jsx)(r.code,{children:"@InitBinder"})," adalah mekanisme ",(0,i.jsx)(r.strong,{children:"pre-processing"})," yang memanipulasi data String dari form sebelum data tersebut masuk ke dalam objek ",(0,i.jsx)(r.code,{children:"Person"}),"."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"1. InitBinder Pertama: Trimming (Pembersihan Spasi)"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"@InitBinder\r\npublic void initBinder(WebDataBinder dataBinder) {\r\n    StringTrimmerEditor trimmerEditor = new StringTrimmerEditor(true);\r\n    dataBinder.registerCustomEditor(String.class, trimmerEditor);\r\n}\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Fungsi"}),": Menghapus spasi di awal dan di akhir input teks secara otomatis."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"StringTrimmerEditor(true)"})}),": Parameter true berarti jika pengguna hanya menginput spasi (misal: ",(0,i.jsx)(r.code,{children:'" "'}),"), maka Spring akan mengubahnya menjadi ",(0,i.jsx)(r.code,{children:"null"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Kegunaan"}),": Sangat penting jika Anda menggunakan validasi ",(0,i.jsx)(r.code,{children:"@NotNull"})," atau ",(0,i.jsx)(r.code,{children:"@NotBlank"}),", agar input yang hanya berisi spasi tetap dianggap kosong dan memicu pesan error."]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"2. InitBinder Kedua: Uppercase (Konversi Huruf Kapital)"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"@InitBinder\r\npublic void initBinderUpper(WebDataBinder dataBinder) {\r\n    dataBinder.registerCustomEditor(String.class, new PropertyEditorSupport() {\r\n        @Override\r\n        public void setAsText(String text) throws IllegalArgumentException {\r\n            setValue(text != null ? text.toUpperCase() : null);\r\n        }\r\n    });\r\n}\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Fungsi"}),": Mengubah semua input teks yang masuk menjadi HURUF KAPITAL."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"PropertyEditorSupport"})}),": Digunakan untuk membuat aturan konversi kustom."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"setAsText"})}),": Method ini mencegat teks yang diketik user, lalu ",(0,i.jsx)(r.code,{children:"text.toUpperCase()"})," mengubahnya menjadi kapital sebelum disimpan ke dalam variabel objek Java melalui ",(0,i.jsx)(r.code,{children:"setValue()"}),"."]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"3\ufe0f\u20e3-membuat-view",children:"3\ufe0f\u20e3 Membuat View"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["View form ",(0,i.jsx)(r.code,{children:"person-form.html"}),"."]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html xmlns:th="http://www.thymeleaf.org">\r\n\t<head>\r\n\t\t<title>Belajar Spring MVC</title>\r\n\t\t<style>\r\n\t\t\t.error {color: red;}\r\n\t\t</style>\r\n\t</head>\r\n\t<body>\r\n\t\t<h3>Person Data</h3>\r\n\t\t<form th:action="@{/process}" th:object="${person}" method="post">\r\n\t\t\tFirst Name (*): <input type="text" th:field="*{firstName}" />\r\n\t\t\t\r\n\t\t\t<span th:if="${#fields.hasErrors(\'firstName\')}" \r\n\t\t\t\t  th:errors="*{firstName}"\r\n\t\t\t\t  class="error"></span>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\tLast Name (*): <input type="text" th:field="*{lastName}" />\r\n\t\t\t\r\n\t\t\t<span th:if="${#fields.hasErrors(\'lastName\')}" \r\n\t\t\t\t  th:errors="*{lastName}"\r\n\t\t\t\t  class="error"></span>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\t<input type="submit" value="Submit" />\r\n\t\t</form>\r\n\t</body>\r\n</html>\n'})}),"\n",(0,i.jsxs)(r.ol,{start:"2",children:["\n",(0,i.jsxs)(r.li,{children:["View ",(0,i.jsx)(r.code,{children:"person-confirm.html"}),"."]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html xmlns:th="http://www.thymeleaf.org">\r\n\t<head>\r\n\t\t<title>Belajar Spring MVC</title>\r\n\t</head>\r\n\t<body>\r\n\t\t<h3>Person Confirmation</h3>\r\n\t\tThe person is: <span th:text="${person.firstName} + \' \' + ${person.lastName}"></span>\r\n\t</body>\r\n</html>\n'})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Spring Boot MVC",src:t(8197).A+"",width:"903",height:"578"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Spring Boot MVC",src:t(74332).A+"",width:"903",height:"578"})}),"\n",(0,i.jsx)(r.admonition,{type:"info",children:(0,i.jsxs)(r.p,{children:["Source Code: ",(0,i.jsx)(r.a,{href:"https://github.com/TimposuLabs/belajar-springboot-mvc/tree/main/12-belajar-spring-mvc-init-binder",children:"https://github.com/TimposuLabs/belajar-springboot-mvc/tree/main/12-belajar-spring-mvc-init-binder"})]})})]})}function c(n={}){const{wrapper:r}={...(0,a.R)(),...n.components};return r?(0,i.jsx)(r,{...n,children:(0,i.jsx)(m,{...n})}):m(n)}},74332(n,r,t){t.d(r,{A:()=>e});const e=t.p+"assets/images/springboot-mvc18-3caf516e75547fcc724c062ea4bb1fe1.png"}}]);