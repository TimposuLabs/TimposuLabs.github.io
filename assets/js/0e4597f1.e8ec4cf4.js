"use strict";(self.webpackChunktimposu=self.webpackChunktimposu||[]).push([[5808],{43433:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"java-unit-test/test-berdasarkan-kondisi","title":"Test Berdasarkan Kondisi","description":"Sebenarnya kita bisa menggunakan Assumptions untuk menjalankan unit test berdasarkan kondisi tertentu. Namun JUnit menyediakan fitur yang lebih mudah untuk pengecekan beberapa kondisi, seperti kondisi sistem operasi, versi java, system property atau environment variable","source":"@site/tutorial/java/java-unit-test/09-test-berdasarkan-kondisi.md","sourceDirName":"java-unit-test","slug":"/java-unit-test/test-berdasarkan-kondisi","permalink":"/java/java-unit-test/test-berdasarkan-kondisi","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"Test Berdasarkan Kondisi"},"sidebar":"tutorialSidebar","previous":{"title":"Assumptions","permalink":"/java/java-unit-test/assumptions"},"next":{"title":"Tag","permalink":"/java/java-unit-test/tag"}}');var i=a(74848),t=a(28453);const s={sidebar_position:9,title:"Test Berdasarkan Kondisi"},o=void 0,d={},u=[{value:"Kondisi berdasarkan Sistem Operasi",id:"kondisi-berdasarkan-sistem-operasi",level:2},{value:"Kondisi berdasarkan Versi Java",id:"kondisi-berdasarkan-versi-java",level:2},{value:"Kondisi berdasarkan System Property",id:"kondisi-berdasarkan-system-property",level:2},{value:"Kondisi berdasarkan Environment Variable",id:"kondisi-berdasarkan-environment-variable",level:2}];function l(n){const e={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:["Sebenarnya kita bisa menggunakan ",(0,i.jsx)(e.code,{children:"Assumptions"})," untuk menjalankan unit test berdasarkan kondisi tertentu. Namun JUnit menyediakan fitur yang lebih mudah untuk pengecekan beberapa kondisi, seperti kondisi sistem operasi, versi java, system property atau environment variable\r\nIni lebih mudah  dibandingkan menggunakan ",(0,i.jsx)(e.code,{children:"Assumptions"}),"."]}),"\n",(0,i.jsx)(e.h2,{id:"kondisi-berdasarkan-sistem-operasi",children:"Kondisi berdasarkan Sistem Operasi"}),"\n",(0,i.jsxs)(e.p,{children:["Untuk kondisi sistem operasi, kita bisa menggunakan beberapa annotation ",(0,i.jsx)(e.code,{children:"@EnabledOnOs"})," digunakan untuk penanda bahwa unit test boleh berjalan di sistem operasi yang ditentukan.",(0,i.jsx)(e.code,{children:"@DisabledOnOs"})," digunakan untuk penanda bahwa unit test tidak boleh berjalan di sistem operasi yang ditentukan."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"@Test\r\n@EnabledOnOs({OS.WINDOWS})\r\npublic void testOnlyRunOnWindows() {\r\n    \r\n}\r\n\r\n@Test\r\n@DisabledOnOs({OS.WINDOWS})\r\npublic void testDisableRunOnWindows() {\r\n    \r\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"kondisi-berdasarkan-versi-java",children:"Kondisi berdasarkan Versi Java"}),"\n",(0,i.jsxs)(e.p,{children:["Untuk kondisi versi Java yang kita gunakan, kita bisa  menggunakan beberapa annotation ",(0,i.jsx)(e.code,{children:"@EnabledOnJre"})," digunakan untuk penanda bahwa unit test boleh berjalan di Java versi tertentu.\r\n",(0,i.jsx)(e.code,{children:"@DisabledOnJre"})," digunakan untuk penanda bahwa unit test tidak boleh berjalan di Java versi tertentu. ",(0,i.jsx)(e.code,{children:"@EnabledForJreRange"})," digunakan untuk penanda bahwa unit test boleh berjalan di range Java versi tertentu. ",(0,i.jsx)(e.code,{children:"@DisabledForJreRange"})," digunakan untuk penanda bahwa unit test tidak boleh berjalan di range Java versi tertentu."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:"@Test\r\n@EnabledOnJre({JRE.JAVA_17})\r\npublic void testOnlyRunJava17() {\r\n    \r\n}\r\n\r\n@Test\r\n@DisabledOnJre({JRE.JAVA_17})\r\npublic void testDisableRunJava17() {\r\n    \r\n}\r\n\r\n@Test\r\n@EnabledForJreRange(min = JRE.JAVA_17, max = JRE.JAVA_21)\r\npublic void testRunRangeJava17To21() {\r\n    \r\n}\r\n\r\n@Test\r\n@DisabledForJreRange(min = JRE.JAVA_17, max = JRE.JAVA_21)\r\npublic void testDisableRangeJava17To21() {\r\n    \r\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"kondisi-berdasarkan-system-property",children:"Kondisi berdasarkan System Property"}),"\n",(0,i.jsxs)(e.p,{children:["Untuk kondisi nilai dari system property, kita bisa menggunakan beberapa annotation ",(0,i.jsx)(e.code,{children:"@EnabledIfSystemProperty"})," untuk penanda bahwa unit test boleh berjalan jika system property sesuai dengan yang ditentukan.",(0,i.jsx)(e.code,{children:"@DisabledIfSystemProperty"})," untuk penanda bahwa unit test tidak boleh berjalan jika system property sesuai dengan yang ditentukan. Jika kondisinya lebih dari satu, kita bisa menggunakan ",(0,i.jsx)(e.code,{children:"@EnabledIfSystemProperties"})," dan ",(0,i.jsx)(e.code,{children:"@DisabledIfSystemProperties"}),"."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// check system properties\r\n@Test\r\npublic void testSystemProperties() {\r\n    Properties properties = System.getProperties();\r\n    properties.forEach((key, value) -> System.out.println(key + " : " + value));\r\n}\r\n\r\n@Test\r\n@EnabledIfSystemProperties({\r\n    @EnabledIfSystemProperty(named = "java.vm.vendor", matches = "Red Hat, Inc.")\r\n})\r\nvoid testEnableVendorRedhat() {\r\n    \r\n}\r\n\r\n@Test\r\n@DisabledIfSystemProperties({\r\n    @DisabledIfSystemProperty(named = "java.vm.vendor", matches = "Red Hat, Inc.")\r\n})\r\nvoid testDisableVendorRedhat() {\r\n    \r\n}\n'})}),"\n",(0,i.jsxs)(e.p,{children:["Dengan menggunakan ",(0,i.jsx)(e.code,{children:"testSystemProperties()"}),", akan mengeksekusi test untuk melakukan printout info terkait system pada komputer yang digunakan. Sedangkan pada parameter ",(0,i.jsx)(e.code,{children:"EnabledIfSystemProperties"})," dan ",(0,i.jsx)(e.code,{children:"DisabledIfSystemProperties"})," akan melakukan pengujian testing diuji jika parameternya cocok, jika tidak cocok akan di-skip."]}),"\n",(0,i.jsx)(e.admonition,{type:"info",children:(0,i.jsx)(e.p,{children:"Pada contoh kasus ini saya menggunakan sistem operasi GNU/Linux Fedora dan Java versi 21 dari default distribusi Fedora. Jadi hasil kemungkinan berbeda dimasing-masing sistem yang digunakan."})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"java.specification.version : 21\r\nsun.jnu.encoding : UTF-8\r\njava.class.path : /home/ucup/Workspace/eclipse-java/belajar-java-unit-test/target/test-classes:/home/ucup/Workspace/eclipse-java/belajar-java-unit-test/target/classes:/home/ucup/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.11.0/junit-jupiter-api-5.11.0.jar:/home/ucup/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/home/ucup/.m2/repository/org/junit/platform/junit-platform-commons/1.11.0/junit-platform-commons-1.11.0.jar:/home/ucup/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/ucup/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.11.0/junit-jupiter-params-5.11.0.jar:/home/ucup/.m2/repository/org/junit/platform/junit-platform-launcher/1.11.0/junit-platform-launcher-1.11.0.jar:/home/ucup/.m2/repository/org/junit/platform/junit-platform-engine/1.11.0/junit-platform-engine-1.11.0.jar:/home/ucup/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.11.0/junit-jupiter-engine-5.11.0.jar:/home/ucup/App/eclipse/eclipse-java/eclipse/configuration/org.eclipse.osgi/766/0/.cp:/home/ucup/App/eclipse/eclipse-java/eclipse/configuration/org.eclipse.osgi/764/0/.cp\r\njava.vm.vendor : Red Hat, Inc.\r\nsun.arch.data.model : 64\r\njava.vendor.url : https://www.redhat.com/\r\njava.vm.specification.version : 21\r\nos.name : Linux\r\nsun.java.launcher : SUN_STANDARD\r\nuser.country : US\r\nsun.boot.library.path : /usr/lib/jvm/java-21-openjdk/lib\r\nsun.java.command : org.eclipse.jdt.internal.junit.runner.RemoteTestRunner -version 3 -port 40697 -testLoaderClass org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader -loaderpluginname org.eclipse.jdt.junit5.runtime -classNames com.timposulabs.DemoConditionTest\r\njdk.debug : release\r\nsun.cpu.endian : little\r\nuser.home : /home/ucup\r\nuser.language : en\r\njava.specification.vendor : Oracle Corporation\r\njava.version.date : 2025-01-21\r\njava.home : /usr/lib/jvm/java-21-openjdk\r\nfile.separator : /\r\njava.vm.compressedOopsMode : Zero based\r\nline.separator : \r\n\r\njava.vm.specification.vendor : Oracle Corporation\r\njava.specification.name : Java Platform API Specification\r\nsun.management.compiler : HotSpot 64-Bit Tiered Compilers\r\njava.runtime.version : 21.0.6+7\r\nuser.name : ucup\r\nstdout.encoding : UTF-8\r\npath.separator : :\r\nos.version : 6.12.15-200.fc41.x86_64\r\njava.runtime.name : OpenJDK Runtime Environment\r\nfile.encoding : UTF-8\r\njava.vm.name : OpenJDK 64-Bit Server VM\r\njava.vendor.version : (Red_Hat-21.0.6.0.7-1)\r\njava.vendor.url.bug : https://bugzilla.redhat.com/enter_bug.cgi?product=Fedora&component=java-21-openjdk&version=40\r\njava.io.tmpdir : /tmp\r\njava.version : 21.0.6\r\nuser.dir : /home/ucup/Workspace/eclipse-java/belajar-java-unit-test\r\nos.arch : amd64\r\njava.vm.specification.name : Java Virtual Machine Specification\r\nnative.encoding : UTF-8\r\njava.library.path : /usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib\r\njava.vm.info : mixed mode, sharing\r\nstderr.encoding : UTF-8\r\njava.vendor : Red Hat, Inc.\r\njava.vm.version : 21.0.6+7\r\nsun.io.unicode.encoding : UnicodeLittle\r\njava.class.version : 65.0\n"})}),"\n",(0,i.jsx)(e.h2,{id:"kondisi-berdasarkan-environment-variable",children:"Kondisi berdasarkan Environment Variable"}),"\n",(0,i.jsxs)(e.p,{children:["Untuk kondisi nilai dari environment variable, kita bisa menggunakan beberapa annotation\r\n",(0,i.jsx)(e.code,{children:"@EnabledIfEnvironmentVariable"})," untuk penanda bahwa unit test boleh berjalan jika environment variable sesuai dengan yang ditentukan. ",(0,i.jsx)(e.code,{children:"@DisabledIfEnvironmentVariable"})," untuk penanda bahwa unit test tidak boleh berjalan jika environment variable sesuai dengan yang ditentukan. Jika kondisinya lebih dari satu, kita bisa menggunakan ",(0,i.jsx)(e.code,{children:"@EnabledIfEnvironmentVariables"})," dan ",(0,i.jsx)(e.code,{children:"@DisabledIfEnvironmentVariables"}),"."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'@Test\r\n@EnabledIfEnvironmentVariables({\r\n    @EnabledIfEnvironmentVariable(named = "PROFILES", matches = "DEV")\r\n})\r\nvoid testEnableOnEnvProfileDev() {\r\n    \r\n}\r\n\r\n@Test\r\n@DisabledIfEnvironmentVariables({\r\n    @DisabledIfEnvironmentVariable(named = "PROFILES", matches = "DEV")\r\n})\r\nvoid testDisabledOnEnvProfileDev() {\r\n    \r\n}\n'})})]})}function p(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},28453:(n,e,a)=>{a.d(e,{R:()=>s,x:()=>o});var r=a(96540);const i={},t=r.createContext(i);function s(n){const e=r.useContext(t);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);