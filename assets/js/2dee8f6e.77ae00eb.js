"use strict";(self.webpackChunktimposu=self.webpackChunktimposu||[]).push([[56522],{5437:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"docker-image-advance/instruksi-arg-env","title":"Dockerfile ARG & ENV","description":"1\ufe0f\u20e3 Instruksi ARG","source":"@site/tutorial/docker/07-docker-image-advance/03-instruksi-arg-env.md","sourceDirName":"07-docker-image-advance","slug":"/docker-image-advance/instruksi-arg-env","permalink":"/docker/docker-image-advance/instruksi-arg-env","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Dockerfile ARG & ENV"},"sidebar":"tutorialSidebar","previous":{"title":"Dockerfile FROM & LABEL","permalink":"/docker/docker-image-advance/instruksi-from-label"},"next":{"title":"Dockerfile CMD","permalink":"/docker/docker-image-advance/instruksi-cmd"}}');var r=a(74848),s=a(28453);const t={sidebar_position:3,title:"Dockerfile ARG & ENV"},l=void 0,d={},c=[{value:"1\ufe0f\u20e3 Instruksi <code>ARG</code>",id:"1\ufe0f\u20e3-instruksi-arg",level:2},{value:"2\ufe0f\u20e3 Instruksi ENV (Environment Variable)",id:"2\ufe0f\u20e3-instruksi-env-environment-variable",level:2},{value:"3\ufe0f\u20e3 Best Practice",id:"3\ufe0f\u20e3-best-practice",level:2}];function o(e){const n={admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h2,{id:"1\ufe0f\u20e3-instruksi-arg",children:["1\ufe0f\u20e3 Instruksi ",(0,r.jsx)(n.code,{children:"ARG"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"ARG"})})," adalah variabel yang bersifat ",(0,r.jsx)(n.strong,{children:"sementara"}),". ",(0,r.jsx)(n.code,{children:"ARG"})," hanya ada selama proses ",(0,r.jsx)(n.strong,{children:"pembuatan image"}),' (docker build). Setelah image selesai dibuat, variabel ini akan "hangus" dan tidak bisa diakses di dalam kontainer yang berjalan.']}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kegunaan"}),": Menentukan versi library, nama file installer, atau konfigurasi yang hanya diperlukan saat kompilasi."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keamanan"}),": Lebih aman untuk data sensitif saat build karena tidak tersimpan di metadata kontainer akhir (namun tetap bisa dilihat di history image)."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:"ARG JAVA_VERSION=21\nFROM eclipse-temurin:${JAVA_VERSION}-jdk\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.p,{children:"Kita bisa mengubahnya saat proses build tanpa mengedit file:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"docker build --build-arg JAVA_VERSION=25 -t my-app .\n"})})]}),"\n",(0,r.jsx)(n.h2,{id:"2\ufe0f\u20e3-instruksi-env-environment-variable",children:"2\ufe0f\u20e3 Instruksi ENV (Environment Variable)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"ENV"})})," adalah variabel yang bersifat permanen. ",(0,r.jsx)(n.code,{children:"ENV"})," tersedia selama proses ",(0,r.jsx)(n.strong,{children:"build"})," DAN tetap ada saat ",(0,r.jsx)(n.strong,{children:"kontainer berjalan"})," (runtime)."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kegunaan"}),": Menyimpan konfigurasi aplikasi seperti nama database (",(0,r.jsx)(n.code,{children:"DATABASE_NAME"}),"), port aplikasi, atau zona waktu."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fleksibilitas"}),": Nilainya bisa ditimpa (",(0,r.jsx)(n.em,{children:"override"}),") saat menjalankan kontainer menggunakan flag ",(0,r.jsx)(n.code,{children:"-e"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:'ARG ubuntu_version=24.04\nFROM ubuntu:${ubuntu_version}\nLABEL version="1.0"\nLABEL maintainer="Ucup Topekox" email="ucup@gmail.com" environtment="development"\nENV DATABASE_NAME=book_store\n'})}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.p,{children:"Kita bisa mengubahnya saat run:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run -e DATABASE_NAME=book_shop my-app\n"})})]}),"\n",(0,r.jsx)(n.h2,{id:"3\ufe0f\u20e3-best-practice",children:"3\ufe0f\u20e3 Best Practice"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Jangan Simpan Rahasia (Secrets) di ARG/ENV"}),": Meskipun ",(0,r.jsx)(n.code,{children:"ARG"})," hilang setelah build, nilai ",(0,r.jsx)(n.code,{children:"ARG"})," dan ",(0,r.jsx)(n.code,{children:"ENV"})," masih bisa terlihat melalui perintah ",(0,r.jsx)(n.code,{children:"docker history"})," atau ",(0,r.jsx)(n.code,{children:"docker inspect"}),". Untuk password atau token, gunakan ",(0,r.jsx)(n.strong,{children:"Docker Secrets"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gunakan Default Value"}),": Selalu berikan nilai default agar build tidak error jika variabel lupa diisi.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Contoh: ",(0,r.jsx)(n.code,{children:"ARG APP_VERSION=1.0.0"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gunakan Kurung Kurawal"}),": Selalu gunakan format ",(0,r.jsx)(n.code,{children:"${NAMA}"})," di dalam instruksi agar lebih jelas dan mencegah kesalahan pembacaan karakter oleh Docker."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kombinasi ARG & ENV"}),": Terkadang kita menggunakan ",(0,r.jsx)(n.code,{children:"ARG"})," untuk menerima input saat build, lalu memasukkannya ke ",(0,r.jsx)(n.code,{children:"ENV"})," agar tersedia saat aplikasi jalan."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:"ARG VERSION\nENV APP_VERSION=${VERSION}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>l});var i=a(96540);const r={},s=i.createContext(r);function t(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);