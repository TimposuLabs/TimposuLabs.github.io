"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[9205],{28453(n,a,e){e.d(a,{R:()=>o,x:()=>r});var i=e(96540);const t={},s=i.createContext(t);function o(n){const a=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(a):{...a,...n}},[a,n])}function r(n){let a;return a=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),i.createElement(s.Provider,{value:a},n.children)}},62837(n,a,e){e.r(a),e.d(a,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var i=e(77071),t=e(74848),s=e(28453);const o={slug:"spring-boot-rest-api-pagination",title:"Cara membuat Pagination REST API di Spring Boot",authors:"topekox",tags:["springboot","rest","spring"]},r=void 0,l={authorsImageUrls:[void 0]},d=[{value:"Collection vs Pagination",id:"collection-vs-pagination",level:2},{value:"Menambahkan Pagination di Aplikasi Spring Boot",id:"menambahkan-pagination-di-aplikasi-spring-boot",level:2},{value:"Konfigurasi menggunakan PagedModel",id:"konfigurasi-menggunakan-pagedmodel",level:2},{value:"\ud83d\udd25 Testing",id:"-testing",level:2},{value:"\ud83c\udf10 Baca Juga",id:"-baca-juga",level:2},{value:"\ud83d\udd17 Link Github",id:"-link-github",level:2}];function p(n){const a={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.p,{children:["Pada project-project Springboot sebelumnya, ketika melakukan Respose REST API find all untuk menampilkan semua data, biasanya kita menggunakan return Collection misalnya ",(0,t.jsx)(a.code,{children:"List"}),". Cara ini tidak salah tapi bukan merupakan best practice apabila data yang dipanggil dalam jumlah yang banyak, misal datanya ada 1 juta, maka data tersebut akan dipanggil semua. Tentunya cara ini tidak efisien dan akan membuat aplikasi kita menjadi lambat."]}),"\n",(0,t.jsx)(a.p,{children:"Untuk mengatasi Overload Data tersebut maka kita dapat menggunakan pagination. Dengan menggunakan pagination akan memungkinkan untuk menampilkan data secara bertahap, sehingga mengurangi beban memori dan meningkatkan kinerja aplikasi."}),"\n",(0,t.jsx)(a.h2,{id:"collection-vs-pagination",children:"Collection vs Pagination"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Collection"}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-json",children:'[\n  {\n    "id": 1,\n    "name": "Iphone 16",\n    "description": "The new generation Iphone",\n    "price": 20000000\n  },\n  {\n    "id": 2,\n    "name": "Asus ROG",\n    "description": "The best laptop for gaming",\n    "price": 30000000\n  }\n]\n'})}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Pagination"}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-json",children:'{\n  "content": [\n    {\n      "id": 1,\n      "name": "Iphone 16",\n      "description": "The new Iphone Generation",\n      "price": 15000000\n    },\n    {\n    "id": 2,\n    "name": "Asus ROG",\n    "description": "The best laptop for gaming",\n    "price": 30000000\n  }\n  ],\n  "page": {\n    "size": 20,\n    "number": 0,\n    "totalElements": 2,\n    "totalPages": 1\n  }\n}\n'})}),"\n",(0,t.jsx)(a.p,{children:"Dengan menggunakan Collection data akan ditampilkan sesuai result dari operasi select all, sedangkan menggunakan pagination akan lebih terfilter karna data yang ditampilkan dapat dicustom jumlahnya."}),"\n",(0,t.jsx)(a.h2,{id:"menambahkan-pagination-di-aplikasi-spring-boot",children:"Menambahkan Pagination di Aplikasi Spring Boot"}),"\n",(0,t.jsxs)(a.p,{children:["Untuk menambahkan pagination pada aplikasi Spring Boot application, kita cukup melakukan masuk ke dalam layer Controller dengan menambahkan parameter dengan type ",(0,t.jsx)(a.code,{children:"Pageable"}),"."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-java",children:'@RestController\n@RequestMapping("/api/product")\npublic class ProductController {\n\n    private final ProductService productService;\n\n    public ProductController(ProductService productService) {\n        this.productService = productService;\n    }\n\n    @GetMapping\n    public ResponseEntity<Page<ProductDTO>> getAll(\n            @SortDefault(sort = "id") @PageableDefault(size = 20) final Pageable pageable) {\n        return ResponseEntity.ok(productService.findAll(pageable));\n    }\n\n    // ...\n}\n'})}),"\n",(0,t.jsxs)(a.p,{children:["Pada contoh di atas kita set default data yang ditampilkan adalah 20 dan sorting data berdasarkan ",(0,t.jsx)(a.code,{children:"id"})," secara ascending. Parameter query dari ",(0,t.jsx)(a.code,{children:"page"}),", ",(0,t.jsx)(a.code,{children:"size"})," dan ",(0,t.jsx)(a.code,{children:"sort"})," akan secara otomatis dibuat oleh Spring Boot."]}),"\n",(0,t.jsx)(a.p,{children:"Untuk layer Service akan memanggil data Page yang berasal dari Repository yang di mapping ke DTO."}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-java",children:"@Service\npublic class ProductService {\n\n    // ...\n\n    public Page<ProductDTO> findAll(final Pageable pageable) {\n        final Page<Product> page = productRepository.findAll(pageable);\n        return new PageImpl<>(page.getContent()\n                .stream()\n                .map(productMapper::toDTO)\n                .collect(Collectors.toList()),\n                pageable, page.getTotalElements());\n    }\n}\n"})}),"\n",(0,t.jsxs)(a.p,{children:["Sedangkan untuk layer Repository dengan meng-extends ",(0,t.jsx)(a.code,{children:"JpaRepository"}),", kita dapat memanggil object data dari database menggunakan ",(0,t.jsx)(a.code,{children:"findAll()"}),"."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-java",children:"public interface ProductRepository extends JpaRepository<Product, Long> {\n}\n"})}),"\n",(0,t.jsx)(a.h2,{id:"konfigurasi-menggunakan-pagedmodel",children:"Konfigurasi menggunakan PagedModel"}),"\n",(0,t.jsx)(a.p,{children:"Namun ketika aplikasi dijalankan tanpa konfigurasi tambahan maka akan menghasilkan log warning seperti ini:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{children:"Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!\nFor a stable JSON structure, please use Spring Data's PagedModel or Spring HATEOAS and Spring Data's PagedResourcesAssembler.\n"})}),"\n",(0,t.jsxs)(a.p,{children:["Hal ini terjadi class ",(0,t.jsx)(a.code,{children:"PageImpl"})," tidak diserialkan untuk dikembalikan menjadi REST API."]}),"\n",(0,t.jsx)(a.p,{children:"Untuk menghapus peringatan tersebut, kita hanya perlu menambahkan anotasi berikut ke salah satu class konfigurasi yang ada atau membuat class konfigurasi baru:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-java",children:"@Configuration\n@EnableSpringDataWebSupport(\n        pageSerializationMode = EnableSpringDataWebSupport.PageSerializationMode.VIA_DTO\n)\npublic class JacksonConfig {\n}\n"})}),"\n",(0,t.jsxs)(a.p,{children:["Konfigurasi di atas digunakan untuk secara otomatis mentransform ",(0,t.jsx)(a.code,{children:"PageImpl"})," menjadi ",(0,t.jsx)(a.code,{children:"PagedModel"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"-testing",children:"\ud83d\udd25 Testing"}),"\n",(0,t.jsx)(a.p,{children:"Konfigurasi pada layer controller di atas kita membuat secara default menampilkan data 20, misalnya kita punya data 5 maka akan ditampilkan semua datanya:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:["URL: ",(0,t.jsx)(a.code,{children:"http://localhost:8080/api/product"})]}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Body response:"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-json",children:'{\n  "content": [\n    {\n      "id": 1,\n      "name": "Iphone 16",\n      "description": "The new Iphone Generation",\n      "price": 15000000\n    },\n    {\n      "id": 2,\n      "name": "Asus ROG",\n      "description": "The best laptop for gaming",\n      "price": 30000000\n    },\n    {\n      "id": 3,\n      "name": "Infinix Hot 50 Pro+",\n      "description": "The New Best Android Phone Low Price",\n      "price": 3000000\n    },\n    {\n      "id": 4,\n      "name": "Google Pixel 9",\n      "description": "The New Android Phone from Google",\n      "price": 15000000\n    },\n    {\n      "id": 5,\n      "name": "Samsung Galaxy S24 FE",\n      "description": "The New Android Phone from Samsung with Galaxy AI",\n      "price": 10000000\n    }\n  ],\n  "page": {\n    "size": 20,\n    "number": 0,\n    "totalElements": 5,\n    "totalPages": 1\n  }\n}\n'})}),"\n",(0,t.jsxs)(a.p,{children:["Informasi page secara otomatis akan digenerate oleh ",(0,t.jsx)(a.code,{children:"Page"})," Spring Boot, seperti:"]}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"size"})," = jumlah data element"]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"number"})," = index page (index dimulai dari 0)"]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"totalElements"})," = jumlah element dalam page yang sedang aktif"]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.code,{children:"totalPages"})," = jumlah total page"]}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Bagaimana kalo misalnya kita ingin custom data yang ingin ditampikan, contoh setiap page hanya ingin menampilkan 2 data saja, maka dari data di atas akan dibuat 3 page."}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:["URL: ",(0,t.jsx)(a.code,{children:"http://localhost:8080/api/product?size=2&page=0"})]}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Body:"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-json",children:'{\n  "content": [\n    {\n      "id": 1,\n      "name": "Iphone 16",\n      "description": "The new Iphone Generation",\n      "price": 15000000\n    },\n    {\n      "id": 2,\n      "name": "Asus ROG",\n      "description": "The best laptop for gaming",\n      "price": 30000000\n    }\n  ],\n  "page": {\n    "size": 2,\n    "number": 0,\n    "totalElements": 5,\n    "totalPages": 3\n  }\n}\n'})}),"\n",(0,t.jsx)(a.admonition,{type:"info",children:(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"INFO"}),": Index page dimulai dari 0."]})}),"\n",(0,t.jsxs)(a.p,{children:["Untuk pindah halaman page cukup mengganti value path variable, contoh berpindah ke page 1 ",(0,t.jsx)(a.code,{children:"http://localhost:8080/api/product?size=2&page=1"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"-baca-juga",children:"\ud83c\udf10 Baca Juga"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.a,{href:"https://bootify.io/spring-boot/pagination-in-spring-boot-rest-api.html",children:"https://bootify.io/spring-boot/pagination-in-spring-boot-rest-api.html"})}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"-link-github",children:"\ud83d\udd17 Link Github"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.a,{href:"https://github.com/TimposuLabs/tutorial-spring-from-blog/tree/main/springboot-pagination-dto",children:"https://github.com/TimposuLabs/tutorial-spring-from-blog/tree/main/springboot-pagination-dto"})}),"\n"]})]})}function c(n={}){const{wrapper:a}={...(0,s.R)(),...n.components};return a?(0,t.jsx)(a,{...n,children:(0,t.jsx)(p,{...n})}):p(n)}},77071(n){n.exports=JSON.parse('{"permalink":"/blog/spring-boot-rest-api-pagination","source":"@site/blog/2025-04-15-spring-boot-rest-api-pagination.md","title":"Cara membuat Pagination REST API di Spring Boot","description":"Pada project-project Springboot sebelumnya, ketika melakukan Respose REST API find all untuk menampilkan semua data, biasanya kita menggunakan return Collection misalnya List. Cara ini tidak salah tapi bukan merupakan best practice apabila data yang dipanggil dalam jumlah yang banyak, misal datanya ada 1 juta, maka data tersebut akan dipanggil semua. Tentunya cara ini tidak efisien dan akan membuat aplikasi kita menjadi lambat.","date":"2025-04-15T00:00:00.000Z","tags":[{"inline":true,"label":"springboot","permalink":"/blog/tags/springboot"},{"inline":true,"label":"rest","permalink":"/blog/tags/rest"},{"inline":true,"label":"spring","permalink":"/blog/tags/spring"}],"readingTime":3.73,"hasTruncateMarker":true,"authors":[{"name":"Ucup TopekoX","title":"TimposuLabs creator","imageURL":"https://topekox.github.io/assets/images/avatar.jpeg","key":"topekox","page":null}],"frontMatter":{"slug":"spring-boot-rest-api-pagination","title":"Cara membuat Pagination REST API di Spring Boot","authors":"topekox","tags":["springboot","rest","spring"]},"unlisted":false,"prevItem":{"title":"Mengatasi konflik waktu / time yang berubah di Windows setelah boot dari Linux","permalink":"/blog/mengatasi-masalah-time-dualboot-windows-linux"},"nextItem":{"title":"Menjalankan PostgreSQL di Docker Container pada Windows Subsystem for Linux (WSL)","permalink":"/blog/postgres-docker-wsl"}}')}}]);