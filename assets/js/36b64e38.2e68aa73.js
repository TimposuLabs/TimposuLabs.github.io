"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[6668],{9952(n,t,r){r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>e,toc:()=>d});const e=JSON.parse('{"id":"springboot/springboot-mvc/validation-number-range","title":"Validation Number Range","description":"Validation Number Range digunakan untuk membatasi nilai numerik (angka) agar berada dalam rentang tertentu. Validasi ini memastikan data seperti umur, harga, atau jumlah stok tidak bernilai tidak masuk akal (seperti umur negatif).","source":"@site/tutorial/spring/springboot/springboot-mvc/14-validation-number-range.md","sourceDirName":"springboot/springboot-mvc","slug":"/springboot/springboot-mvc/validation-number-range","permalink":"/spring/springboot/springboot-mvc/validation-number-range","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":16,"frontMatter":{"sidebar_position":16,"title":"Validation Number Range"},"sidebar":"tutorialSidebar","previous":{"title":"Init Binder","permalink":"/spring/springboot/springboot-mvc/init-binder"},"next":{"title":"Validation Regex","permalink":"/spring/springboot/springboot-mvc/validation-regex"}}');var a=r(74848),i=r(28453);const s={sidebar_position:16,title:"Validation Number Range"},o=void 0,l={},d=[{value:"\ud83d\ude0e Anotasi Utama untuk Range",id:"-anotasi-utama-untuk-range",level:3},{value:"1\ufe0f\u20e3 Membuat Class Object",id:"1\ufe0f\u20e3-membuat-class-object",level:3},{value:"2\ufe0f\u20e3 Membuat Controller",id:"2\ufe0f\u20e3-membuat-controller",level:3},{value:"Penjelasan:",id:"penjelasan",level:4},{value:"3\ufe0f\u20e3 Membuat View",id:"3\ufe0f\u20e3-membuat-view",level:3}];function m(n){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"Validation Number Range digunakan untuk membatasi nilai numerik (angka) agar berada dalam rentang tertentu. Validasi ini memastikan data seperti umur, harga, atau jumlah stok tidak bernilai tidak masuk akal (seperti umur negatif)."}),"\n",(0,a.jsx)(t.h3,{id:"-anotasi-utama-untuk-range",children:"\ud83d\ude0e Anotasi Utama untuk Range"}),"\n",(0,a.jsx)(t.p,{children:"Terdapat dua pasang anotasi yang paling sering digunakan dalam kelas Model (POJO):"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"@Min(value)"}),": Menetapkan nilai minimum yang diperbolehkan.","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Contoh: ",(0,a.jsx)(t.code,{children:"@Min(1)"})," berarti angka harus 1 atau lebih besar."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"@Max(value)"}),": Menetapkan nilai maksimum yang diperbolehkan.","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Contoh: ",(0,a.jsx)(t.code,{children:"@Max(100)"})," berarti angka tidak boleh lebih dari 100."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"@Range(min, max)"}),": (Dari Hibernate Validator) Anotasi praktis yang menggabungkan batas bawah dan atas sekaligus.","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Contoh: ",(0,a.jsx)(t.code,{children:"@Range(min=1, max=10)"})," berarti angka harus di antara 1 sampai 10"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Contoh:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'@Min(value = 1, message = "must greater than or equal to 1")\r\n@Max(value = 60, message = "must less than or equal to 60")\r\nprivate int age;\n'})}),"\n",(0,a.jsx)(t.h3,{id:"1\ufe0f\u20e3-membuat-class-object",children:"1\ufe0f\u20e3 Membuat Class Object"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Membuat Class Model POJO ",(0,a.jsx)(t.code,{children:"Person.java"}),", dan menambahkan anotation validation pada field-nya:"]}),"\n"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'import jakarta.validation.constraints.Max;\r\nimport jakarta.validation.constraints.Min;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport jakarta.validation.constraints.Size;\r\n\r\npublic class Person {\r\n\t\r\n\t@NotBlank(message = "Is Required")\r\n\tprivate String firstName;\r\n\t\r\n\t@NotNull(message = "Is Required")\r\n\t@Size(min = 1, message = "Min 1 char")\r\n\tprivate String lastName;\r\n\t\r\n\t@Min(value = 1, message = "must greater than or equal to 1")\r\n\t@Max(value = 60, message = "must less than or equal to 60")\r\n\tprivate int age;\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\tpublic void setAge(int age) {\r\n\t\tthis.age = age;\r\n\t}\r\n}\n'})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Class model di atas akan di mapping dan properties-nya akan di-binding ke dalam element HTML."}),"\n"]}),"\n",(0,a.jsxs)(t.admonition,{type:"tip",children:[(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Disarankan"})," Menggunakan Tipe Objek ",(0,a.jsx)(t.code,{children:"Integer"})," daripada tipe primitif ",(0,a.jsx)(t.code,{children:"int"})," saat melakukan validasi range."]}),(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Alasannya"}),":\r\nJika menggunakan ",(0,a.jsx)(t.code,{children:"int"}),", nilai defaultnya adalah 0. Jika user mengosongkan form, angka 0 akan terkirim dan mungkin lolos validasi jika batas bawah Anda adalah 0.\r\nJika menggunakan ",(0,a.jsx)(t.code,{children:"Integer"}),", nilainya bisa ",(0,a.jsx)(t.code,{children:"null"}),". Anda bisa menggunakan ",(0,a.jsx)(t.code,{children:"@NotNull"})," untuk memastikan field tidak kosong sebelum mengecek range-nya."]})]}),"\n",(0,a.jsx)(t.h3,{id:"2\ufe0f\u20e3-membuat-controller",children:"2\ufe0f\u20e3 Membuat Controller"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Membuat Controller ",(0,a.jsx)(t.code,{children:"PersonController.java"}),":"]}),"\n"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'import java.beans.PropertyEditorSupport;\r\n\r\nimport org.springframework.beans.propertyeditors.StringTrimmerEditor;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.WebDataBinder;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.InitBinder;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\nimport com.timposulabs.model.Person;\r\n\r\nimport jakarta.validation.Valid;\r\n\r\n@Controller\r\npublic class PersonController {\r\n\t\r\n\t// menambahkan initbinder, method ini akan selalu dieksekusi sebelum controller dipanggil\r\n\t// method ini akan convert trim input string dan menghapus setiap spasi / string kosong \r\n\t@InitBinder\r\n\tpublic void initBinder(WebDataBinder dataBinder) {\r\n\t\tStringTrimmerEditor trimmerEditor = new StringTrimmerEditor(true);\r\n\t\tdataBinder.registerCustomEditor(String.class, trimmerEditor);\r\n\t}\r\n\t\r\n\t// initbinder mengubah string menjadi uppercase\r\n\t@InitBinder\r\n\tpublic void initBinderUpper(WebDataBinder dataBinder) {\r\n\t\tdataBinder.registerCustomEditor(String.class, new PropertyEditorSupport() {\r\n\t\t\t@Override\r\n\t\t\tpublic void setAsText(String text) throws IllegalArgumentException {\r\n\t\t\t\tsetValue(text != null ? text.toUpperCase() : null);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@GetMapping("/")\r\n\tpublic String showForm(Model model) {\r\n\t\tmodel.addAttribute("person", new Person());\r\n\t\treturn "person-form";\r\n\t}\r\n\t\r\n\t@PostMapping("/process")\r\n\tpublic String processForm(\r\n\t\t\t@Valid @ModelAttribute("person") Person person,\r\n\t\t\tBindingResult bindingResult) {\r\n\t\t\r\n\t\tSystem.out.println("Lastname: " + person.getLastName());\r\n\t\t\r\n\t\tif (bindingResult.hasErrors()) {\r\n\t\t\treturn "person-form";\r\n\t\t} else {\r\n\t\t\treturn "person-confirm";\r\n\t\t}\r\n\t}\r\n}\n'})}),"\n",(0,a.jsx)(t.h4,{id:"penjelasan",children:"Penjelasan:"}),"\n",(0,a.jsxs)(t.p,{children:["Method ",(0,a.jsx)(t.code,{children:"@InitBinder"})," adalah mekanisme ",(0,a.jsx)(t.strong,{children:"pre-processing"})," yang memanipulasi data String dari form sebelum data tersebut masuk ke dalam objek ",(0,a.jsx)(t.code,{children:"Person"}),"."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"1. InitBinder Pertama: Trimming (Pembersihan Spasi)"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:"@InitBinder\r\npublic void initBinder(WebDataBinder dataBinder) {\r\n    StringTrimmerEditor trimmerEditor = new StringTrimmerEditor(true);\r\n    dataBinder.registerCustomEditor(String.class, trimmerEditor);\r\n}\n"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Fungsi"}),": Menghapus spasi di awal dan di akhir input teks secara otomatis."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.code,{children:"StringTrimmerEditor(true)"})}),": Parameter true berarti jika pengguna hanya menginput spasi (misal: ",(0,a.jsx)(t.code,{children:'" "'}),"), maka Spring akan mengubahnya menjadi ",(0,a.jsx)(t.code,{children:"null"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Kegunaan"}),": Sangat penting jika Anda menggunakan validasi ",(0,a.jsx)(t.code,{children:"@NotNull"})," atau ",(0,a.jsx)(t.code,{children:"@NotBlank"}),", agar input yang hanya berisi spasi tetap dianggap kosong dan memicu pesan error."]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"2. InitBinder Kedua: Uppercase (Konversi Huruf Kapital)"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:"@InitBinder\r\npublic void initBinderUpper(WebDataBinder dataBinder) {\r\n    dataBinder.registerCustomEditor(String.class, new PropertyEditorSupport() {\r\n        @Override\r\n        public void setAsText(String text) throws IllegalArgumentException {\r\n            setValue(text != null ? text.toUpperCase() : null);\r\n        }\r\n    });\r\n}\n"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Fungsi"}),": Mengubah semua input teks yang masuk menjadi HURUF KAPITAL."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.code,{children:"PropertyEditorSupport"})}),": Digunakan untuk membuat aturan konversi kustom."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.code,{children:"setAsText"})}),": Method ini mencegat teks yang diketik user, lalu ",(0,a.jsx)(t.code,{children:"text.toUpperCase()"})," mengubahnya menjadi kapital sebelum disimpan ke dalam variabel objek Java melalui ",(0,a.jsx)(t.code,{children:"setValue()"}),"."]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"3\ufe0f\u20e3-membuat-view",children:"3\ufe0f\u20e3 Membuat View"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["View form ",(0,a.jsx)(t.code,{children:"person-form.html"}),"."]}),"\n"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html xmlns:th="http://www.thymeleaf.org">\r\n\t<head>\r\n\t\t<title>Belajar Spring MVC</title>\r\n\t\t<style>\r\n\t\t\t.error {color: red;}\r\n\t\t</style>\r\n\t</head>\r\n\t<body>\r\n\t\t<h3>Person Data</h3>\r\n\t\t<form th:action="@{/process}" th:object="${person}" method="post">\r\n\t\t\tFirst Name (*): <input type="text" th:field="*{firstName}" />\r\n\t\t\t\r\n\t\t\t<span th:if="${#fields.hasErrors(\'firstName\')}" \r\n\t\t\t\t  th:errors="*{firstName}"\r\n\t\t\t\t  class="error"></span>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\tLast Name (*): <input type="text" th:field="*{lastName}" />\r\n\t\t\t\r\n\t\t\t<span th:if="${#fields.hasErrors(\'lastName\')}" \r\n\t\t\t\t  th:errors="*{lastName}"\r\n\t\t\t\t  class="error"></span>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\tAge : <input type="text" th:field="*{age}" />\r\n\t\t\t<span th:if="${#fields.hasErrors(\'age\')}" \r\n\t\t\t\t  th:errors="*{age}"\r\n\t\t\t\t  class="error"></span>\r\n\t\t\t<br />\r\n\t\t\t<br />\r\n\t\t\t<input type="submit" value="Submit" />\r\n\t\t</form>\r\n\t</body>\r\n</html>\n'})}),"\n",(0,a.jsxs)(t.ol,{start:"2",children:["\n",(0,a.jsxs)(t.li,{children:["View ",(0,a.jsx)(t.code,{children:"person-confirm.html"}),"."]}),"\n"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-html",children:'<!DOCTYPE html>\r\n<html xmlns:th="http://www.thymeleaf.org">\r\n\t<head>\r\n\t\t<title>Belajar Spring MVC</title>\r\n\t</head>\r\n\t<body>\r\n\t\t<h3>Person Confirmation</h3>\r\n\t\tThe person is: <span th:text="${person.firstName} + \' \' + ${person.lastName}"></span>\r\n\t\t<br />\r\n\t\t<br />\r\n\t\tYour age : <span th:text="${person.age}"></span>\r\n\t</body>\r\n</html>\n'})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Spring Boot MVC",src:r(48457).A+"",width:"903",height:"578"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Spring Boot MVC",src:r(53984).A+"",width:"903",height:"578"})}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["Source Code: ",(0,a.jsx)(t.a,{href:"https://github.com/TimposuLabs/belajar-springboot-mvc/tree/main/13-belajar-spring-mvc-validate-number",children:"https://github.com/TimposuLabs/belajar-springboot-mvc/tree/main/13-belajar-spring-mvc-validate-number"})]})})]})}function u(n={}){const{wrapper:t}={...(0,i.R)(),...n.components};return t?(0,a.jsx)(t,{...n,children:(0,a.jsx)(m,{...n})}):m(n)}},28453(n,t,r){r.d(t,{R:()=>s,x:()=>o});var e=r(96540);const a={},i=e.createContext(a);function s(n){const t=e.useContext(i);return e.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function o(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),e.createElement(i.Provider,{value:t},n.children)}},48457(n,t,r){r.d(t,{A:()=>e});const e=r.p+"assets/images/springboot-mvc20-3beebe36dd34c62d83e217d8ff96b2a5.png"},53984(n,t,r){r.d(t,{A:()=>e});const e=r.p+"assets/images/springboot-mvc21-e1e097915e70f3901ffb1436ac0fd530.png"}}]);