"use strict";(globalThis.webpackChunktimposu=globalThis.webpackChunktimposu||[]).push([[8746],{5192(n,e,i){i.r(e),i.d(e,{assets:()=>t,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var a=i(46906),s=i(74848),l=i(28453);const r={slug:"membuat-distro-linux-dari-0",title:"Membuat Distro Linux sederhana dari 0",authors:"topekox",tags:["linux","ubuntu","linuxfromscratch"]},d=void 0,t={authorsImageUrls:[void 0]},c=[{value:"1\ufe0f\u20e3 Install Dependency",id:"1\ufe0f\u20e3-install-dependency",level:2},{value:"2\ufe0f\u20e3 Clone Linux Repository",id:"2\ufe0f\u20e3-clone-linux-repository",level:2},{value:"3\ufe0f\u20e3 Konfigurasi Kernel",id:"3\ufe0f\u20e3-konfigurasi-kernel",level:2},{value:"4\ufe0f\u20e3 Install Busybox",id:"4\ufe0f\u20e3-install-busybox",level:2},{value:"5\ufe0f\u20e3 Konfigurasi Boot",id:"5\ufe0f\u20e3-konfigurasi-boot",level:2},{value:"6\ufe0f\u20e3 Membuat Boot Loader",id:"6\ufe0f\u20e3-membuat-boot-loader",level:2},{value:"7\ufe0f\u20e3 Testing OS",id:"7\ufe0f\u20e3-testing-os",level:2},{value:"\ud83d\udc69\u200d\ud83d\udcbb Referensi",id:"-referensi",level:2}];function o(n){const e={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:["Kali ini kita akan membangun OS Linux sendiri dari 0 atau bahasa kerennya ",(0,s.jsx)(e.em,{children:"from scratch"})," jadi teman-teman yang mau belajar ngoprek Linux bisa mengikuti tutorial ini step by step."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Prasyarat:"})}),"\n",(0,s.jsx)(e.p,{children:"Pada praktek kali ini saya menggunakan:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Distro Linux Ubuntu 24 sebagai OS Host untuk Development"}),". Saya menyarankan menggunakan Virtualization saja baik itu Docker, Mesin Virtual (seperti Virtual Box / VMWare) atau WSL jika anda menggunakan Windows, agar jika terjadi error yang tidak diinginkan, tidak mempengaruhi OS utama anda."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Koneksi Internet"}),". Dibutuhkan untuk mendownload dependency."]}),"\n"]}),"\n",(0,s.jsx)("img",{src:"/img/general/linux.webp"}),"\n",(0,s.jsx)(e.h2,{id:"1\ufe0f\u20e3-install-dependency",children:"1\ufe0f\u20e3 Install Dependency"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"apt install bzip2 git vim make gcc libncurses-dev flex bison bc cpio libelf-dev libssl-dev syslinux dosfstools\n"})}),"\n",(0,s.jsx)(e.h2,{id:"2\ufe0f\u20e3-clone-linux-repository",children:"2\ufe0f\u20e3 Clone Linux Repository"}),"\n",(0,s.jsx)(e.p,{children:"Clone Linux repository, disini saya tidak menclone seluruh riwayat git melainkan commit terakhir saja."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone --depth 1 https://github.com/torvalds/linux.git\n"})}),"\n",(0,s.jsx)(e.h2,{id:"3\ufe0f\u20e3-konfigurasi-kernel",children:"3\ufe0f\u20e3 Konfigurasi Kernel"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd linux\r\nmake menuconfig\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"linux",src:i(48465).A+"",width:"661",height:"466"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Pilih ",(0,s.jsx)(e.em,{children:"64-bit kernel"})," ",(0,s.jsx)(e.em,{children:"-> exit"})]}),"\n",(0,s.jsx)(e.li,{children:"Compile, dengan membagi job menjadi 8, sesuaikan dengan core prosesor computer kita."}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"make -j 8\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Jika sukses pada akhir proses muncul pesan:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Kernel: arch/x86/boot/bzImage is ready\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Copy ",(0,s.jsx)(e.code,{children:"bzImage"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"mkdir /boot-files\r\ncp arch/x86/boot/bzImage /boot-files/\n"})}),"\n",(0,s.jsx)(e.h2,{id:"4\ufe0f\u20e3-install-busybox",children:"4\ufe0f\u20e3 Install Busybox"}),"\n",(0,s.jsxs)(e.p,{children:["Sampai tahap ini kita baru mempunyai kernel, tapi belum mempunyai tools/utility yang membranal menjadi OS yang utuh. Salah satu aplikasi yang bisa kita gunakan adalah ",(0,s.jsx)(e.strong,{children:"Busybox"}),". BusyBox adalah sebuah utility, ataulebih tepatnya adalah sebuah ",(0,s.jsx)(e.strong,{children:"koleksi dari berbagai utility"})," (alat bantu) sistem operasi Unix/Linux yang digabungkan ke dalam satu file tunggal.  BusyBox bukanlah sebuah sistem operasi yang lengkap secara mandiri, melainkan sebuah ",(0,s.jsx)(e.em,{children:"aplikasi di ruang pengguna (userspace)"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"Untuk bisa berfungsi, BusyBox harus dijalankan pada sistem yang sudah memiliki kernel (paling sering Linux, tetapi bisa juga Android atau FreeBSD). Tanpa kernel, BusyBox tidak bisa berinteraksi dengan perangkat keras komputer atau ponsel."}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Pasangan Sempurna:"})," Dalam pembuatan sistem minimalis (seperti router atau sistem ",(0,s.jsx)(e.em,{children:"embedded"}),"), developer biasanya menggabungkan ",(0,s.jsx)(e.strong,{children:"Kernel Linux + BusyBox"}),". Kombinasi ini sudah cukup untuk membuat sebuah perangkat berfungsi dan bisa menerima perintah dari ",(0,s.jsx)(e.em,{children:"user"}),"."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Berikut adalah poin penting mengapa BusyBox disebut sebagai utility:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Multi-Utility Program"}),": BusyBox merupakan satu file biner yang bertindak seperti ratusan utility berbeda. Di dalamnya terdapat versi ringkas dari perintah-perintah umum seperti ",(0,s.jsx)(e.code,{children:"ls"}),", ",(0,s.jsx)(e.code,{children:"cp"}),", ",(0,s.jsx)(e.code,{children:"mv"}),", ",(0,s.jsx)(e.code,{children:"grep"}),", dan ",(0,s.jsx)(e.code,{children:"mkdir"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Menyediakan Perintah Dasar"}),": Tanpa BusyBox, sistem yang sangat kecil (seperti router atau perangkat Android tertentu) mungkin tidak memiliki perintah dasar untuk mengelola file atau jaringan."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Applets"}),': Setiap utility di dalam BusyBox disebut sebagai "applet". Applet ini dirancang untuk menggunakan kode yang sama secara bersama-sama sehingga ukurannya sangat efisien (sekitar 1\u20135 MB saja).']}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Penggunaan yang Praktis"}),": BusyBox masih menjadi utility standar dalam infrastruktur modern seperti Docker containers dan distro Linux ringan seperti Alpine Linux untuk menjaga sistem tetap ramping."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Clone Busybox"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone --depth 1 https://git.busybox.net/busybox\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Konfigurasi:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd busybox\r\nmake menuconfig\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"linux",src:i(18298).A+"",width:"1920",height:"1020"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Select ",(0,s.jsx)(e.code,{children:"Settings"})," -> Pada Build Options centang ",(0,s.jsx)(e.code,{children:"Build static binary (no shared libs)"})," -> ",(0,s.jsx)(e.code,{children:"Exit"}),". Cara untuk mengatur agar tidak tergantung pada library external."]}),"\n"]}),"\n",(0,s.jsxs)(e.admonition,{type:"info",children:[(0,s.jsxs)(e.p,{children:["Pada kernel Linux modern, dukungan untuk CBQ (",(0,s.jsx)(e.em,{children:"Class Based Queueing"}),") telah dihapus dari header sistem, sedangkan BusyBox versi lama masih mencoba mengompilasi fitur tersebut melalui utilitas ",(0,s.jsx)(e.code,{children:"tc"})]}),(0,s.jsx)(e.p,{children:"Untuk mengatasi itu:"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Navigasi ke: ",(0,s.jsx)(e.code,{children:"Networking Utilities"})," ---\x3e Cari item ",(0,s.jsx)(e.code,{children:"tc"})," (utilitas ",(0,s.jsx)(e.em,{children:"trafic control"}),")."]}),"\n",(0,s.jsxs)(e.li,{children:["Hapus tanda centang (tekan ",(0,s.jsx)(e.code,{children:"N"}),") untuk menonaktifkan fitur tersebut"]}),"\n"]})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Compile"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"make -j 8\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"initramfs"})," adalah tempat kernel akan me-load file system setelah booting, jadi kita akan memasukan / put Busybox kedalam direkori ",(0,s.jsx)(e.code,{children:"/boot/initrams"})]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"mkdir /boot-files/initramfs\r\nmake CONFIG_PREFIX=/boot-files/initramfs install\n"})}),"\n",(0,s.jsx)(e.h2,{id:"5\ufe0f\u20e3-konfigurasi-boot",children:"5\ufe0f\u20e3 Konfigurasi Boot"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Pindah ke direktori ",(0,s.jsx)(e.code,{children:"boot"})," initramfs:"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd /boot-files/initramfs/\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Terdapat beberapa direktori:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ls\r\n\r\nbin  init  sbin  usr\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Kita akan memanggil shell ketika kernel memulai ",(0,s.jsx)(e.code,{children:"initramfs"}),", kernel akan mencari ",(0,s.jsx)(e.code,{children:"init"})," file, jadi disini saya akan membuat ",(0,s.jsx)(e.code,{children:"init"})," file yang akan memanggil ",(0,s.jsx)(e.code,{children:"sheel"}),". Fun fact kita akan menggunakan ",(0,s.jsx)(e.code,{children:"shell"})," untuk memanggil ",(0,s.jsx)(e.code,{children:"shell"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"vim init\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Isi file dengan kode:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"#!/bin/sh\r\n\r\n/bin/sh\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Berikan permission:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"chmod +x init\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["File ",(0,s.jsx)(e.code,{children:"linuxrc"})," adalah skrip inisialisasi awal yang menjembatani antara pemuatan Kernel dan masuknya kita ke dalam sistem operasi lengkap. Di sistem modern, fungsinya telah diambil alih oleh file ",(0,s.jsx)(e.code,{children:"/init"})," di dalam ",(0,s.jsx)(e.code,{children:"initramfs"}),". Disini kita akan menghapus ",(0,s.jsx)(e.code,{children:"linuxrc"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"rm linuxrc\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Kita akan membuat archive ",(0,s.jsx)(e.code,{children:".cpio"})," untuk mengemas semua yang dibutuhkan ",(0,s.jsx)(e.code,{children:"initramfs"})," yang didukung kernel. Kita akan menggunakan perintah ",(0,s.jsx)(e.code,{children:"find"})," lalu mencompress-nya dengan nama ",(0,s.jsx)(e.code,{children:"init.cpio"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"find . | cpio -o -H newc > ../init.cpio\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Perintah tersebut di atas digunakan untuk ",(0,s.jsx)(e.strong,{children:"mengemas (archive) seluruh isi direktori initramfs menjadi satu file binary"})," agar bisa dibaca oleh kernel Linux saat proses booting."]}),"\n",(0,s.jsx)(e.p,{children:"Berikut adalah penjelasan detail per komponennya:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"find"})}),": Perintah ini mencari dan menampilkan daftar semua file dan folder di dalam direktori saat ini secara rekursif (termasuk semua sub-folder di dalamnya). Titik ",(0,s.jsx)(e.code,{children:"."})," menandakan direktori tempat Anda berada sekarang (yang berisi BusyBox dan struktur folder ",(0,s.jsx)(e.code,{children:"bin"}),", ",(0,s.jsx)(e.code,{children:"dev"}),", ",(0,s.jsx)(e.code,{children:"proc"}),", dll)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"|"})," (Pipe)"]}),": Simbol garis tegak ini berfungsi untuk mengirimkan daftar file yang ditemukan oleh ",(0,s.jsx)(e.code,{children:"find"})," tadi sebagai input ke perintah berikutnya (",(0,s.jsx)(e.code,{children:"cpio"}),")."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"cpio -o -H newc"})})," Ini adalah perintah inti untuk membuat arsip:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"-o"})," (copy-out): Instruksi untuk membuat file arsip dari daftar file yang diterima."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"-H newc"}),": Ini adalah bagian yang paling krusial. Argumen ini menentukan format arsip yang digunakan. Format ",(0,s.jsx)(e.code,{children:"newc"})," adalah standar yang dipahami oleh kernel Linux untuk ",(0,s.jsx)(e.code,{children:"initramfs"}),". Jika Anda tidak menggunakan format ini, kernel tidak akan bisa mengekstrak isinya saat booting."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"> ../init.cpio"})}),": Simbol ",(0,s.jsx)(e.code,{children:">"})," mengarahkan output (hasil pengemasan) ke sebuah file baru. Dalam kasus ini, file tersebut dinamai ",(0,s.jsx)(e.code,{children:"init.cpio"})," dan diletakkan satu folder di atas direktori saat ini (",(0,s.jsx)(e.code,{children:"../"}),")."]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["File ",(0,s.jsx)(e.code,{children:"init.cpio"})," inilah yang nantinya Anda panggil di konfigurasi bootloader (seperti Syslinux atau GRUB) sebagai ",(0,s.jsx)(e.strong,{children:"initrd"})," agar sistem operasi bisa berjalan."]}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsxs)(e.p,{children:["Seringkali setelah menjadi ",(0,s.jsx)(e.code,{children:".cpio"}),", file tersebut dikompres lagi agar ukurannya lebih kecil menggunakan perintah ",(0,s.jsx)(e.code,{children:"gzip"}),", misalnya:\r\n",(0,s.jsx)(e.code,{children:"find . | cpio -o -H newc | gzip > ../init.cpio.gz"})]})}),"\n",(0,s.jsx)(e.h2,{id:"6\ufe0f\u20e3-membuat-boot-loader",children:"6\ufe0f\u20e3 Membuat Boot Loader"}),"\n",(0,s.jsxs)(e.p,{children:["Kita akan melakukan konfigurasi bootloader dengan ",(0,s.jsx)(e.code,{children:"syslinux"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Pindah ke direktori boot"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd /boot-files\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Install syslinux:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"apt install syslinux\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Membuat file boot:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"dd if=/dev/zero of=boot bs=1M count=50\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Perintah tersebut digunakan untuk membuat sebuah file kosong sebesar 50 Megabyte (MB) yang nantinya akan digunakan sebagai virtual disk atau citra (",(0,s.jsx)(e.em,{children:"image"}),") untuk bootloader."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Berikut adalah penjelasan detail per bagian dari perintah tersebut:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"dd"})}),": Merupakan singkatan dari ",(0,s.jsx)(e.strong,{children:"Data Duplicator"}),". Ini adalah line tools perintah untuk menyalin dan mengonversi data pada level byte."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"if=/dev/zero"})}),": (",(0,s.jsx)(e.code,{children:"if"})," = Input File). Sumber datanya berasal dari ",(0,s.jsx)(e.code,{children:"/dev/zero"}),", sebuah file perangkat khusus di Linux yang menghasilkan aliran data bernilai nol (kosong) terus-menerus."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"of=boot"})}),": (",(0,s.jsx)(e.code,{children:"of"}),' = Output File). Nama file yang akan dibuat adalah "',(0,s.jsx)(e.strong,{children:"boot"}),'". File inilah yang akan menjadi wadah sistem atau initramfs kita nanti.']}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"bs=1M"})}),": (",(0,s.jsx)(e.code,{children:"bs"})," = Block Size). Menentukan ukuran setiap blok data sebesar 1 Megabyte."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"count=50"})}),": Ini menentukan berapa kali blok tersebut ditulis."]}),"\n",(0,s.jsxs)(e.li,{children:["Jika ",(0,s.jsx)(e.code,{children:"bs=1M"})," dan ",(0,s.jsx)(e.code,{children:"count=50"}),", maka total ukuran file adalah ",(0,s.jsx)(e.strong,{children:"50 MB"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Mengapa ini dilakukan saat membuat Bootloader/Initramfs?"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Dalam konteks penggunaan ",(0,s.jsx)(e.strong,{children:"Syslinux"}),", langkah-langkah yang biasanya kita lakukan setelah perintah di atas adalah:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Memformat file tersebut"}),": Memberikan sistem berkas (misal FAT32) ke file boot tersebut menggunakan perintah ",(0,s.jsx)(e.code,{children:"mkfs.vfat"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Menginstal Syslinux"}),': Memasukkan kode bootloader ke dalam file tersebut agar bisa "booting".']}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Mengisi file"}),": Memasukkan kernel Linux dan file ",(0,s.jsx)(e.strong,{children:"BusyBox (initramfs)"})," yang sudah kita buat sebelumnya ke dalam file image ini."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Jika kita melihat isi direktori, maka akan ada file image ",(0,s.jsx)(e.code,{children:"boot"})," yang baru dibuat."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"ls\r\n\r\nboot  bzImage  init.cpio  initramfs\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Sejauh ini file tersebut masih kosong, kita akan memasukan file system ke dalamnya, disini kita akan menggunakan filesystem ",(0,s.jsx)(e.strong,{children:"FAT"}),", karena filesystem tersebut disupport syslinux. Untuk itu kita akan menginstall ",(0,s.jsx)(e.code,{children:"dosfstools"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"apt install dosfstools\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Membuat file system (format) ",(0,s.jsx)(e.strong,{children:"FAT"}),' pada file atau partisi bernama "',(0,s.jsx)(e.strong,{children:"boot"}),'".']}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"mkfs -t fat boot\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Menginstal ",(0,s.jsx)(e.strong,{children:"bootloader Syslinux"}),' ke dalam file atau partisi bernama "',(0,s.jsx)(e.strong,{children:"boot"}),'" yang sebelumnya sudah kita format']}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"syslinux boot\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Sampai tahap ini file ",(0,s.jsx)(e.code,{children:"boot"})," sudah siap untuk di boot, jadi ini akan langsung melakukan boot terhadap syslinux. Tapi kita masih perlu menyalin Kernel dan Initramfs ke dalam images ",(0,s.jsx)(e.code,{children:"boot"}),". Untuk melakukan copy file yang dibutuhkan ke dalam images ",(0,s.jsx)(e.code,{children:"boot"})," caranya sangat mudah:"]}),"\n"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Membuat direktori temporary untuk melakukan ",(0,s.jsx)(e.code,{children:"mount"}),". Contoh direktori dengan nama ",(0,s.jsx)(e.code,{children:"m"}),"."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"mkdir m\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Mount ",(0,s.jsx)(e.code,{children:"boot"})," ke dalam direktori tersebut:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"mount boot m\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Copy file yang dibutuhkan ke dalam direktori tersebut:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"cp bzImage init.cpio m\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Unmount:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"umount m\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"7\ufe0f\u20e3-testing-os",children:"7\ufe0f\u20e3 Testing OS"}),"\n",(0,s.jsxs)(e.p,{children:["Untuk melakukan testing kita bisa menggunakan ",(0,s.jsx)(e.code,{children:"qemu"})," sebagai ",(0,s.jsx)(e.strong,{children:"virtual manchine"}),". Sebelum instalasi, pastikan prosesor anda mendukung virtualisasi (VT-x atau AMD-V). Jalankan perintah:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"egrep -c '(vmx|svm)' /proc/cpuinfo\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Jika hasilnya ",(0,s.jsx)(e.strong,{children:"lebih dari 0"}),", berarti sistem kita mendukung virtualisasi."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Install Qemu"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"sudo apt update\r\nsudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virt-manager virtinst -y\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Verifikasi Instalasi: Pastikan services ",(0,s.jsx)(e.code,{children:"libvirtd"})," berjalan dengan benar:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"systemctl status libvirtd\n"})}),"\n",(0,s.jsxs)(e.admonition,{type:"info",children:[(0,s.jsxs)(e.p,{children:["Jika mesin virtual dijalankan tanpa akses root setiap saat, masukkan user ke grup ",(0,s.jsx)(e.code,{children:"libvirt"})," dan ",(0,s.jsx)(e.code,{children:"kvm"}),"."]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"sudo adduser $USER libvirt\r\nsudo adduser $USER kvm\n"})})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Menjalankan OS kita dengan Qemu:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"qemu-system-x86_64 boot\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Masukan perintah di bawah ini pada bagian ",(0,s.jsx)(e.code,{children:"boot:"})," untuk masuk ke booting OS:"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"/bzImage -initrd=/init.cpio\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"linux",src:i(19523).A+"",width:"718",height:"467"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"linux",src:i(89356).A+"",width:"723",height:"465"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Selamat"})," Distro Linux Sederhana anda sudah berjalan, tentunya ini hanya sebagai media untuk belajar (",(0,s.jsx)(e.em,{children:"educational purpose"}),") atau sekedar hobi saja bukan untuk ",(0,s.jsx)(e.em,{children:"production"}),". Dan pasti masih banyak yang perlu diperbaiki, teman-teman bisa oprek lebih luas lagi untuk pengembangannya."]}),"\n",(0,s.jsx)(e.h2,{id:"-referensi",children:"\ud83d\udc69\u200d\ud83d\udcbb Referensi"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.youtube.com/watch?v=QlzoegSuIzg",children:"https://www.youtube.com/watch?v=QlzoegSuIzg"})}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},18298(n,e,i){i.d(e,{A:()=>a});const a=i.p+"assets/images/linux2-206503c68f836acdd016b100ed0a49f3.png"},19523(n,e,i){i.d(e,{A:()=>a});const a=i.p+"assets/images/linux3-4f588b13475cb54a275c742eac583025.png"},28453(n,e,i){i.d(e,{R:()=>r,x:()=>d});var a=i(96540);const s={},l=a.createContext(s);function r(n){const e=a.useContext(l);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),a.createElement(l.Provider,{value:e},n.children)}},46906(n){n.exports=JSON.parse('{"permalink":"/blog/membuat-distro-linux-dari-0","source":"@site/blog/2026-01-02-membuat-distro-linux-sederhana.md","title":"Membuat Distro Linux sederhana dari 0","description":"Kali ini kita akan membangun OS Linux sendiri dari 0 atau bahasa kerennya from scratch jadi teman-teman yang mau belajar ngoprek Linux bisa mengikuti tutorial ini step by step.","date":"2026-01-02T00:00:00.000Z","tags":[{"inline":true,"label":"linux","permalink":"/blog/tags/linux"},{"inline":true,"label":"ubuntu","permalink":"/blog/tags/ubuntu"},{"inline":true,"label":"linuxfromscratch","permalink":"/blog/tags/linuxfromscratch"}],"readingTime":7.77,"hasTruncateMarker":true,"authors":[{"name":"Ucup TopekoX","title":"TimposuLabs creator","imageURL":"https://topekox.github.io/assets/images/avatar.jpeg","key":"topekox","page":null}],"frontMatter":{"slug":"membuat-distro-linux-dari-0","title":"Membuat Distro Linux sederhana dari 0","authors":"topekox","tags":["linux","ubuntu","linuxfromscratch"]},"unlisted":false,"prevItem":{"title":"Install Armbian di STB HG680-P","permalink":"/blog/unlock-install-armbian-stb-hg680p"},"nextItem":{"title":"Cara Install Banyak Distro Linux di WSL","permalink":"/blog/install-banyak-distro-wsl"}}')},48465(n,e,i){i.d(e,{A:()=>a});const a=i.p+"assets/images/linux1-377a7f29ca4972018a491d177b9ef36a.png"},89356(n,e,i){i.d(e,{A:()=>a});const a=i.p+"assets/images/linux4-9f7f96131bfc4c6de6db72664b24d111.png"}}]);